{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{useTheme}from\"../context/ThemeContext\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const AIInsightsPanel=()=>{var _analytics$top_exerci,_analytics$top_exerci2;const{theme}=useTheme();const navigate=useNavigate();const[insights,setInsights]=useState(null);const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{fetchAIInsights();},[]);const fetchAIInsights=async()=>{try{setIsLoading(true);setError(null);const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:8000',\"/ai-coaching/workout-analysis\"));if(!response.ok){throw new Error(\"Failed to fetch AI insights\");}const data=await response.json();setInsights(data);}catch(err){console.error(\"Error fetching AI insights:\",err);setError(err.message);}finally{setIsLoading(false);}};const handleChatWithAI=()=>{navigate(\"/ai-coaching\");};const formatInsightText=text=>{// Split by numbered points and format nicely\nconst points=text.split(/\\d+\\.\\s+/).filter(point=>point.trim());return points.map((point,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"0.8rem\",padding:\"0.8rem\",background:theme.surfaceSecondary,borderRadius:\"8px\",borderLeft:\"3px solid \".concat(theme.accent),fontSize:\"0.9rem\",lineHeight:\"1.4\"},children:[/*#__PURE__*/_jsxs(\"strong\",{style:{color:theme.accent},children:[index+1,\".\"]}),\" \",point.trim()]},index));};if(isLoading){return/*#__PURE__*/_jsxs(\"div\",{style:{background:theme.cardBackground,borderRadius:\"16px\",padding:\"2rem\",border:\"1px solid \".concat(theme.cardBorder),boxShadow:theme.shadowLight,marginBottom:\"2rem\",transition:\"all 0.3s ease\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:\"1rem\",marginBottom:\"1.5rem\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:\"50px\",height:\"50px\",borderRadius:\"50%\",background:\"linear-gradient(135deg, \".concat(theme.accent,\", \").concat(theme.accentHover,\")\"),display:\"flex\",alignItems:\"center\",justifyContent:\"center\",fontSize:\"1.5rem\"},children:\"\\uD83E\\uDD16\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0,color:theme.accent,fontSize:\"1.3rem\"},children:\"AI Insights\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:\"0.2rem 0 0 0\",color:theme.textSecondary,fontSize:\"0.9rem\"},children:\"Analyzing your fitness journey...\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",padding:\"2rem\",gap:\"1rem\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:\"0.5rem\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:\"12px\",height:\"12px\",borderRadius:\"50%\",background:theme.accent,animation:\"pulse 1.4s ease-in-out infinite\"}}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"12px\",height:\"12px\",borderRadius:\"50%\",background:theme.accent,animation:\"pulse 1.4s ease-in-out 0.2s infinite\"}}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"12px\",height:\"12px\",borderRadius:\"50%\",background:theme.accent,animation:\"pulse 1.4s ease-in-out 0.4s infinite\"}})]}),/*#__PURE__*/_jsx(\"span\",{style:{color:theme.textSecondary,fontSize:\"1rem\"},children:\"AI is analyzing your workout data...\"})]})]});}if(error){return/*#__PURE__*/_jsxs(\"div\",{style:{background:theme.cardBackground,borderRadius:\"16px\",padding:\"2rem\",border:\"1px solid \".concat(theme.cardBorder),boxShadow:theme.shadowLight,marginBottom:\"2rem\",transition:\"all 0.3s ease\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:\"1rem\",marginBottom:\"1.5rem\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:\"50px\",height:\"50px\",borderRadius:\"50%\",background:\"rgba(239, 68, 68, 0.1)\",border:\"2px solid rgba(239, 68, 68, 0.3)\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",fontSize:\"1.5rem\"},children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0,color:theme.text,fontSize:\"1.3rem\"},children:\"AI Insights Unavailable\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:\"0.2rem 0 0 0\",color:theme.textSecondary,fontSize:\"0.9rem\"},children:\"Start logging workouts to get personalized insights\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:theme.surfaceSecondary,borderRadius:\"12px\",padding:\"1.5rem\",textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:\"0 0 1rem 0\",color:theme.textSecondary,lineHeight:\"1.5\"},children:\"Create your first workout log to unlock AI-powered insights about your fitness journey!\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleChatWithAI,style:{background:theme.accent,color:theme.background,border:\"none\",borderRadius:\"8px\",padding:\"0.8rem 1.5rem\",fontSize:\"1rem\",fontWeight:\"600\",cursor:\"pointer\",transition:\"all 0.3s ease\"},onMouseOver:e=>e.currentTarget.style.background=theme.accentHover,onMouseOut:e=>e.currentTarget.style.background=theme.accent,children:\"\\uD83E\\uDD16 Chat with AI Coach\"})]})]});}const{analytics,ai_insights}=insights;return/*#__PURE__*/_jsxs(\"div\",{style:{background:theme.cardBackground,borderRadius:\"16px\",padding:\"2rem\",border:\"1px solid \".concat(theme.cardBorder),boxShadow:theme.shadowLight,marginBottom:\"2rem\",transition:\"all 0.3s ease\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",marginBottom:\"2rem\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:\"1rem\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:\"50px\",height:\"50px\",borderRadius:\"50%\",background:\"linear-gradient(135deg, \".concat(theme.accent,\", \").concat(theme.accentHover,\")\"),display:\"flex\",alignItems:\"center\",justifyContent:\"center\",fontSize:\"1.5rem\"},children:\"\\uD83E\\uDD16\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0,color:theme.accent,fontSize:\"1.3rem\"},children:\"AI Fitness Insights\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:\"0.2rem 0 0 0\",color:theme.textSecondary,fontSize:\"0.9rem\"},children:\"Personalized analysis of your fitness journey\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleChatWithAI,style:{background:theme.accentSecondary,color:theme.accent,border:\"none\",borderRadius:\"8px\",padding:\"0.7rem 1.2rem\",fontSize:\"0.9rem\",fontWeight:\"600\",cursor:\"pointer\",transition:\"all 0.3s ease\"},onMouseOver:e=>e.currentTarget.style.background=theme.accentHover,onMouseOut:e=>e.currentTarget.style.background=theme.accentSecondary,children:\"\\uD83D\\uDCAC Chat with AI\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"repeat(auto-fit, minmax(200px, 1fr))\",gap:\"1rem\",marginBottom:\"2rem\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:theme.surfaceSecondary,borderRadius:\"12px\",padding:\"1.5rem\",textAlign:\"center\",border:\"1px solid \".concat(theme.border)},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"2rem\",fontWeight:\"700\",color:theme.accent,marginBottom:\"0.5rem\"},children:(analytics===null||analytics===void 0?void 0:analytics.total_workouts)||0}),/*#__PURE__*/_jsx(\"div\",{style:{color:theme.textSecondary,fontSize:\"0.9rem\",fontWeight:\"500\"},children:\"Total Workouts\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:theme.surfaceSecondary,borderRadius:\"12px\",padding:\"1.5rem\",textAlign:\"center\",border:\"1px solid \".concat(theme.border)},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"2rem\",fontWeight:\"700\",color:theme.accent,marginBottom:\"0.5rem\"},children:(analytics===null||analytics===void 0?void 0:analytics.recent_workouts)||0}),/*#__PURE__*/_jsx(\"div\",{style:{color:theme.textSecondary,fontSize:\"0.9rem\",fontWeight:\"500\"},children:\"This Year\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:theme.surfaceSecondary,borderRadius:\"12px\",padding:\"1.5rem\",textAlign:\"center\",border:\"1px solid \".concat(theme.border)},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"1.2rem\",fontWeight:\"600\",color:theme.accent,marginBottom:\"0.5rem\",whiteSpace:\"nowrap\",overflow:\"hidden\",textOverflow:\"ellipsis\"},children:(analytics===null||analytics===void 0?void 0:(_analytics$top_exerci=analytics.top_exercises)===null||_analytics$top_exerci===void 0?void 0:(_analytics$top_exerci2=_analytics$top_exerci[0])===null||_analytics$top_exerci2===void 0?void 0:_analytics$top_exerci2[0])||\"None yet\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:theme.textSecondary,fontSize:\"0.9rem\",fontWeight:\"500\"},children:\"Top Exercise\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:theme.surfaceSecondary,borderRadius:\"12px\",padding:\"1.5rem\",textAlign:\"center\",border:\"1px solid \".concat(theme.border)},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"1rem\",fontWeight:\"600\",color:theme.accent,marginBottom:\"0.5rem\"},children:analytics!==null&&analytics!==void 0&&analytics.last_workout?new Date(analytics.last_workout).toLocaleDateString():\"N/A\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:theme.textSecondary,fontSize:\"0.9rem\",fontWeight:\"500\"},children:\"Last Workout\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"2rem\"},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:\"0 0 1rem 0\",color:theme.accent,fontSize:\"1.1rem\",display:\"flex\",alignItems:\"center\",gap:\"0.5rem\"},children:\"\\uD83E\\uDDE0 AI Analysis & Recommendations\"}),/*#__PURE__*/_jsx(\"div\",{style:{background:theme.surfaceSecondary,borderRadius:\"12px\",padding:\"1.5rem\",border:\"1px solid \".concat(theme.border)},children:ai_insights?formatInsightText(ai_insights):/*#__PURE__*/_jsx(\"p\",{style:{margin:0,color:theme.textSecondary,fontStyle:\"italic\"},children:\"Log more workouts to get detailed AI insights and recommendations!\"})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:\"1rem\",marginTop:\"2rem\",justifyContent:\"center\",flexWrap:\"wrap\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleChatWithAI,style:{background:theme.accent,color:theme.background,border:\"none\",borderRadius:\"8px\",padding:\"0.8rem 1.5rem\",fontSize:\"1rem\",fontWeight:\"600\",cursor:\"pointer\",transition:\"all 0.3s ease\"},onMouseOver:e=>e.currentTarget.style.background=theme.accentHover,onMouseOut:e=>e.currentTarget.style.background=theme.accent,children:\"\\uD83E\\uDD16 Get Personalized Coaching\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchAIInsights,style:{background:theme.surfaceSecondary,color:theme.text,border:\"1px solid \".concat(theme.border),borderRadius:\"8px\",padding:\"0.8rem 1.5rem\",fontSize:\"1rem\",fontWeight:\"600\",cursor:\"pointer\",transition:\"all 0.3s ease\"},onMouseOver:e=>{e.currentTarget.style.background=theme.surfaceTertiary;e.currentTarget.style.borderColor=theme.accent;},onMouseOut:e=>{e.currentTarget.style.background=theme.surfaceSecondary;e.currentTarget.style.borderColor=theme.border;},children:\"\\uD83D\\uDD04 Refresh Insights\"})]}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n                @keyframes pulse {\\n                    0%, 80%, 100% {\\n                        transform: scale(0.6);\\n                        opacity: 0.5;\\n                    }\\n                    40% {\\n                        transform: scale(1);\\n                        opacity: 1;\\n                    }\\n                }\\n            \"})]});};export default AIInsightsPanel;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}