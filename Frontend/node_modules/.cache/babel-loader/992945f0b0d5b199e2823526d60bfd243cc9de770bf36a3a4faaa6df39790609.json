{"ast":null,"code":"import _objectSpread from\"C:/Users/kidus/OneDrive/Documentos/Summer2025/fitness-tracker-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from\"react\";import{useTheme}from\"../context/ThemeContext\";import AutoComplete from\"./AutoComplete\";import SmartSuggestions,{ProgressionSuggestions}from\"./SmartSuggestions\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function TrainingLogRow(_ref){let{rowData,onUpdate,muscleGroupSuggestions=[],exerciseSuggestions=[],onMuscleGroupChange}=_ref;const{theme}=useTheme();// Fully controlled component - no local state\n// Simple update function\nconst updateField=(field,value)=>{onUpdate(_objectSpread(_objectSpread({},rowData),{},{[field]:value}));};const handleSetChange=(index,field,value)=>{const newSets=rowData.sets.map((set,i)=>i===index?_objectSpread(_objectSpread({},set),{},{[field]:value}):set);updateField('sets',newSets);};const toggleWeightUnit=()=>{const newUnit=rowData.weightUnit===\"lbs\"?\"kg\":\"lbs\";const convertedSets=rowData.sets.map(set=>{let weight=set.weight;if(weight!==''){weight=parseFloat(weight);if(!isNaN(weight)){weight=newUnit===\"kg\"?(weight/2.20462).toFixed(2):(weight*2.20462).toFixed(2);}}return _objectSpread(_objectSpread({},set),{},{weight:weight});});updateField('sets',convertedSets);updateField('weightUnit',newUnit);};const addSet=()=>{updateField('sets',[...rowData.sets,{reps:'',weight:''}]);};const removeSet=index=>{if(rowData.sets.length>1){updateField('sets',rowData.sets.filter((_,i)=>i!==index));}};const handleMuscleGroupChange=newMuscleGroup=>{updateField('muscleGroup',newMuscleGroup);if(onMuscleGroupChange){onMuscleGroupChange(newMuscleGroup);}};return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"2rem\",padding:\"2rem\",background:theme.cardBackground,border:\"1px solid \".concat(theme.cardBorder),borderRadius:\"16px\",boxShadow:theme.shadowLight,fontFamily:\"'Segoe UI', 'San Francisco', 'Arial', sans-serif\",color:theme.text,transition:\"background 0.3s, color 0.3s, border-color 0.3s, box-shadow 0.3s\",position:\"relative\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"1.5rem\"},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:\"600\",color:theme.textSecondary,fontSize:\"1rem\",marginBottom:\"0.5rem\",display:\"block\",transition:\"color 0.3s ease\"},children:\"Muscle Group:\"}),/*#__PURE__*/_jsx(AutoComplete,{value:rowData.muscleGroup,onChange:handleMuscleGroupChange,placeholder:\"Enter Exercise Focus Here\",suggestions:muscleGroupSuggestions})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"1.5rem\"},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:\"600\",color:theme.textSecondary,fontSize:\"1rem\",marginBottom:\"0.5rem\",display:\"block\",transition:\"color 0.3s ease\"},children:\"Exercise:\"}),/*#__PURE__*/_jsx(AutoComplete,{value:rowData.exercise,onChange:value=>updateField('exercise',value),placeholder:\"Name of exercise\",suggestions:exerciseSuggestions}),/*#__PURE__*/_jsx(SmartSuggestions,{muscleGroup:rowData.muscleGroup,currentExercise:rowData.exercise,onSuggestionSelect:exercise=>updateField('exercise',exercise)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"1.5rem\"},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:\"600\",color:theme.textSecondary,fontSize:\"1rem\",marginBottom:\"1rem\",display:\"block\",transition:\"color 0.3s ease\"},children:\"Sets:\"}),rowData.sets.map((set,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",marginBottom:\"0.8rem\",gap:\"0.5rem\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Weight\",value:set.weight,onChange:e=>handleSetChange(index,\"weight\",e.target.value),style:{padding:\"0.6rem\",width:\"100px\",borderRadius:\"8px\",border:\"1px solid \".concat(theme.inputBorder),background:theme.inputBackground,color:theme.text,fontSize:\"0.9rem\",transition:\"background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease\"}}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"500\",color:theme.accent,fontSize:\"0.9rem\",minWidth:\"30px\",transition:\"color 0.3s ease\"},children:rowData.weightUnit}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",placeholder:\"Reps\",value:set.reps,onChange:e=>{const val=e.target.value;if(/^\\d*$/.test(val))handleSetChange(index,\"reps\",val);},style:{padding:\"0.6rem\",width:\"80px\",borderRadius:\"8px\",border:\"1px solid \".concat(theme.inputBorder),background:theme.inputBackground,color:theme.text,fontSize:\"0.9rem\",transition:\"background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease\"}}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"500\",color:theme.textSecondary,fontSize:\"0.9rem\",minWidth:\"30px\",transition:\"color 0.3s ease\"},children:\"reps\"}),rowData.sets.length>1&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeSet(index),style:{background:theme.surfaceSecondary,color:theme.textSecondary,border:\"1px solid \".concat(theme.border),borderRadius:\"50%\",width:\"28px\",height:\"28px\",cursor:\"pointer\",fontSize:\"1rem\",fontWeight:\"600\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",transition:\"background 0.2s ease, border-color 0.2s ease, color 0.2s ease\",padding:0,minWidth:\"28px\"},onMouseOver:e=>{e.currentTarget.style.background=theme.surfaceTertiary;e.currentTarget.style.borderColor=theme.textMuted;e.currentTarget.style.color=theme.text;},onMouseOut:e=>{e.currentTarget.style.background=theme.surfaceSecondary;e.currentTarget.style.borderColor=theme.border;e.currentTarget.style.color=theme.textSecondary;},children:\"\\xD7\"})]},index)),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:\"0.8rem\",flexWrap:\"wrap\"},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:addSet,style:{background:theme.accentSecondary,color:theme.accent,border:\"none\",borderRadius:\"8px\",padding:\"0.6rem 1rem\",cursor:\"pointer\",fontWeight:600,fontSize:\"0.9rem\",transition:\"background 0.2s ease\"},onMouseOver:e=>e.currentTarget.style.background=theme.accentHover,onMouseOut:e=>e.currentTarget.style.background=theme.accentSecondary,children:\"Add Set\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:toggleWeightUnit,style:{background:theme.accentSecondary,color:theme.accent,border:\"none\",borderRadius:\"8px\",padding:\"0.6rem 1rem\",cursor:\"pointer\",fontWeight:600,fontSize:\"0.9rem\",transition:\"background 0.2s ease\"},onMouseOver:e=>e.currentTarget.style.background=theme.accentHover,onMouseOut:e=>e.currentTarget.style.background=theme.accentSecondary,children:[\"Unit: \",rowData.weightUnit.toUpperCase()]})]}),/*#__PURE__*/_jsx(ProgressionSuggestions,{currentSets:rowData.sets,exercise:rowData.exercise,onSuggestionApply:newSets=>updateField('sets',newSets)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"1.5rem\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateField('showNotes',!rowData.showNotes),style:{background:theme.accentSecondary,color:theme.accent,border:\"none\",borderRadius:\"8px\",padding:\"0.6rem 1.2rem\",cursor:\"pointer\",fontWeight:600,fontSize:\"0.9rem\",transition:\"background 0.2s ease\"},onMouseOver:e=>e.currentTarget.style.background=theme.accentHover,onMouseOut:e=>e.currentTarget.style.background=theme.accentSecondary,children:rowData.showNotes?\"Hide Notes\":\"Add Notes\"}),rowData.showNotes&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"1rem\"},children:/*#__PURE__*/_jsx(\"textarea\",{rows:\"4\",value:rowData.notes||'',onChange:e=>updateField('notes',e.target.value),placeholder:\"Add your notes here...\",style:{width:\"100%\",borderRadius:\"8px\",padding:\"0.8rem\",border:\"1px solid \".concat(theme.inputBorder),background:theme.inputBackground,color:theme.text,fontSize:\"1rem\",resize:\"vertical\",minHeight:\"100px\",boxSizing:\"border-box\",transition:\"background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease\"}})})]})]});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}