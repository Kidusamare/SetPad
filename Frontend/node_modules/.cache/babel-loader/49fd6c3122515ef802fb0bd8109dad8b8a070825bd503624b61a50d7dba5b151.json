{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kidus\\\\OneDrive\\\\Documentos\\\\Summer2025\\\\fitness-tracker-frontend\\\\src\\\\components\\\\TrainingLogTable.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport TrainingLogRow from \"./TrainingLogRow\";\nimport TrainingLogManager from \"./TrainingLogManager\";\nimport { getFirebaseUserAndToken } from \"../utils/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TrainingLogTable() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [log, setLog] = useState(null);\n  const [manager, setManager] = useState(null);\n  useEffect(() => {\n    async function fetchLog() {\n      const session = await getFirebaseUserAndToken();\n      if (!session) return;\n      const mgr = new TrainingLogManager(session.token);\n      setManager(mgr);\n      try {\n        const loaded = await mgr.loadTable(id);\n        setLog(loaded);\n      } catch {\n        const today = new Date().toISOString().split(\"T\")[0];\n        setLog({\n          id,\n          tableName: `New Table - ${today}`,\n          date: today,\n          rows: []\n        });\n      }\n    }\n    fetchLog();\n  }, [id]);\n  useEffect(() => {\n    if (!manager || !log) return;\n    const timer = setTimeout(() => {\n      manager.saveTable(log);\n    }, 500);\n    return () => clearTimeout(timer);\n  }, [log, manager]);\n  if (!log) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      background: \"#000\",\n      minHeight: \"100vh\"\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 22\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"2rem\",\n      background: \"#000\",\n      minHeight: \"100vh\",\n      color: \"#f5f6fa\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate(\"/\"),\n      style: {\n        background: \"#31363f\",\n        color: \"#ffd966\",\n        padding: \"0.5rem 1.2rem\",\n        border: \"none\",\n        borderRadius: \"8px\",\n        cursor: \"pointer\",\n        fontWeight: 600,\n        fontSize: \"1rem\",\n        marginRight: \"0.7rem\",\n        marginTop: \"1rem\",\n        transition: \"background 0.2s\"\n      },\n      onMouseOver: e => e.currentTarget.style.background = \"#444950\",\n      onMouseOut: e => e.currentTarget.style.background = \"#31363f\",\n      children: \"\\u2190 Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: log.tableName,\n      onChange: e => setLog({\n        ...log,\n        tableName: e.target.value\n      }),\n      style: {\n        fontSize: \"1.5rem\",\n        fontWeight: \"bold\",\n        background: \"transparent\",\n        border: \"none\",\n        borderBottom: \"1px solid #666\",\n        color: \"#ffd966\",\n        marginBottom: \"1rem\",\n        width: \"100%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"date\",\n      value: log.date,\n      onChange: e => setLog({\n        ...log,\n        date: e.target.value\n      }),\n      style: {\n        background: \"#181a1b\",\n        color: \"#f5f6fa\",\n        border: \"none\",\n        borderRadius: \"8px\",\n        padding: \"0.5rem 1.2rem\",\n        marginBottom: \"1rem\"\n      },\n      onMouseOver: e => e.currentTarget.style.background = \"#23272f\",\n      onMouseOut: e => e.currentTarget.style.background = \"#181a1b\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), log.rows.map((row, i) => /*#__PURE__*/_jsxDEV(TrainingLogRow, {\n      rowData: row,\n      onUpdate: updated => {\n        const newRows = [...log.rows];\n        newRows[i] = {\n          ...newRows[i],\n          ...updated\n        };\n        setLog({\n          ...log,\n          rows: newRows\n        });\n      }\n    }, row.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n_s(TrainingLogTable, \"72kDEu6MyfkzUhWuEZlWMLEkAHc=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = TrainingLogTable;\nvar _c;\n$RefreshReg$(_c, \"TrainingLogTable\");","map":{"version":3,"names":["useEffect","useState","useParams","useNavigate","TrainingLogRow","TrainingLogManager","getFirebaseUserAndToken","jsxDEV","_jsxDEV","TrainingLogTable","_s","id","navigate","log","setLog","manager","setManager","fetchLog","session","mgr","token","loaded","loadTable","today","Date","toISOString","split","tableName","date","rows","timer","setTimeout","saveTable","clearTimeout","style","background","minHeight","fileName","_jsxFileName","lineNumber","columnNumber","padding","color","children","onClick","border","borderRadius","cursor","fontWeight","fontSize","marginRight","marginTop","transition","onMouseOver","e","currentTarget","onMouseOut","type","value","onChange","target","borderBottom","marginBottom","width","map","row","i","rowData","onUpdate","updated","newRows","_c","$RefreshReg$"],"sources":["C:/Users/kidus/OneDrive/Documentos/Summer2025/fitness-tracker-frontend/src/components/TrainingLogTable.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport TrainingLogRow from \"./TrainingLogRow\";\r\nimport TrainingLogManager from \"./TrainingLogManager\";\r\nimport { getFirebaseUserAndToken } from \"../utils/auth\";\r\n\r\nexport default function TrainingLogTable() {\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n    const [log, setLog] = useState(null);\r\n    const [manager, setManager] = useState(null);\r\n\r\n    useEffect(() => {\r\n        async function fetchLog() {\r\n            const session = await getFirebaseUserAndToken();\r\n            if (!session) return;\r\n            const mgr = new TrainingLogManager(session.token);\r\n            setManager(mgr);\r\n            try {\r\n                const loaded = await mgr.loadTable(id);\r\n                setLog(loaded);\r\n            } catch {\r\n                const today = new Date().toISOString().split(\"T\")[0];\r\n                setLog({\r\n                    id,\r\n                    tableName: `New Table - ${today}`,\r\n                    date: today,\r\n                    rows: []\r\n                });\r\n            }\r\n        }\r\n        fetchLog();\r\n    }, [id]);\r\n\r\n    useEffect(() => {\r\n        if (!manager || !log) return;\r\n        const timer = setTimeout(() => {\r\n            manager.saveTable(log);\r\n        }, 500);\r\n        return () => clearTimeout(timer);\r\n    }, [log, manager]);\r\n\r\n    if (!log) return <div style={{ background: \"#000\", minHeight: \"100vh\" }}></div>;\r\n\r\n    return (\r\n        <div style={{ padding: \"2rem\", background: \"#000\", minHeight: \"100vh\", color: \"#f5f6fa\" }}>\r\n            <button\r\n                onClick={() => navigate(\"/\")}\r\n                style={{\r\n                    background: \"#31363f\",\r\n                    color: \"#ffd966\",\r\n                    padding: \"0.5rem 1.2rem\",\r\n                    border: \"none\",\r\n                    borderRadius: \"8px\",\r\n                    cursor: \"pointer\",\r\n                    fontWeight: 600,\r\n                    fontSize: \"1rem\",\r\n                    marginRight: \"0.7rem\",\r\n                    marginTop: \"1rem\",\r\n                    transition: \"background 0.2s\"\r\n                }}\r\n                onMouseOver={e => e.currentTarget.style.background = \"#444950\"}\r\n                onMouseOut={e => e.currentTarget.style.background = \"#31363f\"}\r\n            >\r\n                ‚Üê Back\r\n            </button>\r\n            <input\r\n                type=\"text\"\r\n                value={log.tableName}\r\n                onChange={(e) => setLog({ ...log, tableName: e.target.value })}\r\n                style={{\r\n                    fontSize: \"1.5rem\",\r\n                    fontWeight: \"bold\",\r\n                    background: \"transparent\",\r\n                    border: \"none\",\r\n                    borderBottom: \"1px solid #666\",\r\n                    color: \"#ffd966\",\r\n                    marginBottom: \"1rem\",\r\n                    width: \"100%\"\r\n                }}\r\n            />\r\n            <input\r\n                type=\"date\"\r\n                value={log.date}\r\n                onChange={(e) => setLog({ ...log, date: e.target.value })}\r\n                style={{\r\n                    background: \"#181a1b\",\r\n                    color: \"#f5f6fa\",\r\n                    border: \"none\",\r\n                    borderRadius: \"8px\",\r\n                    padding: \"0.5rem 1.2rem\",\r\n                    marginBottom: \"1rem\"\r\n                }}\r\n                onMouseOver={e => e.currentTarget.style.background = \"#23272f\"}\r\n                onMouseOut={e => e.currentTarget.style.background = \"#181a1b\"}\r\n            />\r\n            {log.rows.map((row, i) => (\r\n                <TrainingLogRow\r\n                    key={row.id}\r\n                    rowData={row}\r\n                    onUpdate={(updated) => {\r\n                        const newRows = [...log.rows];\r\n                        newRows[i] = { ...newRows[i], ...updated };\r\n                        setLog({ ...log, rows: newRows });\r\n                    }}\r\n                />\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}