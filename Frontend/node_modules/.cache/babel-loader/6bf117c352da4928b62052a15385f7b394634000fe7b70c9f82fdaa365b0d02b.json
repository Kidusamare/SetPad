{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useTheme}from\"../context/ThemeContext\";import AIService from\"../services/aiCacheService\";import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const AICacheStatus=_ref=>{let{isDevelopment=false}=_ref;const{theme}=useTheme();const[cacheInfo,setCacheInfo]=useState(null);const[isVisible,setIsVisible]=useState(false);useEffect(()=>{if(isDevelopment){updateCacheInfo();}},[isDevelopment]);const updateCacheInfo=()=>{const info=AIService.getCacheStatus();setCacheInfo(info);};const clearAllCache=()=>{AIService.clearAllCache();updateCacheInfo();};const cleanExpiredCache=()=>{AIService.cleanExpiredCache();updateCacheInfo();};if(!isDevelopment){return null;}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsVisible(!isVisible),style:{position:\"fixed\",bottom:\"1rem\",left:\"1rem\",background:\"rgba(0, 0, 0, 0.8)\",color:\"#fff\",border:\"none\",borderRadius:\"8px\",padding:\"0.5rem 1rem\",fontSize:\"0.8rem\",cursor:\"pointer\",zIndex:9999},children:[\"AI Cache (\",(cacheInfo===null||cacheInfo===void 0?void 0:cacheInfo.cacheSize)||0,\")\"]}),isVisible&&/*#__PURE__*/_jsxs(\"div\",{style:{position:\"fixed\",bottom:\"4rem\",left:\"1rem\",background:theme.cardBackground,border:\"1px solid \".concat(theme.border),borderRadius:\"12px\",padding:\"1rem\",maxWidth:\"300px\",zIndex:9998,boxShadow:\"0 8px 32px rgba(0, 0, 0, 0.2)\",fontSize:\"0.8rem\"},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:\"0 0 1rem 0\",color:theme.accent,fontSize:\"1rem\"},children:\"AI Cache Status\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"1rem\"},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Cache Entries: \"}),/*#__PURE__*/_jsx(\"span\",{style:{color:theme.accent},children:(cacheInfo===null||cacheInfo===void 0?void 0:cacheInfo.cacheSize)||0})]}),(cacheInfo===null||cacheInfo===void 0?void 0:cacheInfo.entries)&&cacheInfo.entries.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"1rem\"},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Cached APIs:\"}),/*#__PURE__*/_jsx(\"ul\",{style:{margin:\"0.5rem 0\",paddingLeft:\"1rem\",listStyle:\"disc\"},children:cacheInfo.entries.map((entry,index)=>/*#__PURE__*/_jsx(\"li\",{style:{color:theme.textSecondary,fontSize:\"0.7rem\",marginBottom:\"0.2rem\"},children:entry.split(':')[0]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:\"0.5rem\",flexWrap:\"wrap\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:updateCacheInfo,style:{background:theme.accent,color:theme.background,border:\"none\",borderRadius:\"4px\",padding:\"0.3rem 0.6rem\",fontSize:\"0.7rem\",cursor:\"pointer\"},children:\"Refresh\"}),/*#__PURE__*/_jsx(\"button\",{onClick:cleanExpiredCache,style:{background:theme.surfaceSecondary,color:theme.text,border:\"1px solid \".concat(theme.border),borderRadius:\"4px\",padding:\"0.3rem 0.6rem\",fontSize:\"0.7rem\",cursor:\"pointer\"},children:\"Clean Expired\"}),/*#__PURE__*/_jsx(\"button\",{onClick:clearAllCache,style:{background:theme.danger,color:\"#fff\",border:\"none\",borderRadius:\"4px\",padding:\"0.3rem 0.6rem\",fontSize:\"0.7rem\",cursor:\"pointer\"},children:\"Clear All\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"1rem\",padding:\"0.5rem\",background:theme.surfaceSecondary,borderRadius:\"6px\",fontSize:\"0.7rem\",color:theme.textSecondary},children:[/*#__PURE__*/_jsx(\"div\",{children:\"Cache Duration: 5 days\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Rate Limit: 30 seconds\"})]})]})]});};export default AICacheStatus;","map":{"version":3,"names":["React","useState","useEffect","useTheme","AIService","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","AICacheStatus","_ref","isDevelopment","theme","cacheInfo","setCacheInfo","isVisible","setIsVisible","updateCacheInfo","info","getCacheStatus","clearAllCache","cleanExpiredCache","children","onClick","style","position","bottom","left","background","color","border","borderRadius","padding","fontSize","cursor","zIndex","cacheSize","cardBackground","concat","maxWidth","boxShadow","margin","accent","marginBottom","entries","length","paddingLeft","listStyle","map","entry","index","textSecondary","split","display","gap","flexWrap","surfaceSecondary","text","danger","marginTop"],"sources":["C:/Users/kidus/OneDrive/Documentos/Summer2025/fitness-tracker-frontend/Frontend/src/components/AICacheStatus.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useTheme } from \"../context/ThemeContext\";\nimport AIService from \"../services/aiCacheService\";\n\nconst AICacheStatus = ({ isDevelopment = false }) => {\n    const { theme } = useTheme();\n    const [cacheInfo, setCacheInfo] = useState(null);\n    const [isVisible, setIsVisible] = useState(false);\n\n    useEffect(() => {\n        if (isDevelopment) {\n            updateCacheInfo();\n        }\n    }, [isDevelopment]);\n\n    const updateCacheInfo = () => {\n        const info = AIService.getCacheStatus();\n        setCacheInfo(info);\n    };\n\n    const clearAllCache = () => {\n        AIService.clearAllCache();\n        updateCacheInfo();\n    };\n\n    const cleanExpiredCache = () => {\n        AIService.cleanExpiredCache();\n        updateCacheInfo();\n    };\n\n    if (!isDevelopment) {\n        return null;\n    }\n\n    return (\n        <>\n            {/* Toggle Button */}\n            <button\n                onClick={() => setIsVisible(!isVisible)}\n                style={{\n                    position: \"fixed\",\n                    bottom: \"1rem\",\n                    left: \"1rem\",\n                    background: \"rgba(0, 0, 0, 0.8)\",\n                    color: \"#fff\",\n                    border: \"none\",\n                    borderRadius: \"8px\",\n                    padding: \"0.5rem 1rem\",\n                    fontSize: \"0.8rem\",\n                    cursor: \"pointer\",\n                    zIndex: 9999\n                }}\n            >\n                AI Cache ({cacheInfo?.cacheSize || 0})\n            </button>\n\n            {/* Cache Status Panel */}\n            {isVisible && (\n                <div\n                    style={{\n                        position: \"fixed\",\n                        bottom: \"4rem\",\n                        left: \"1rem\",\n                        background: theme.cardBackground,\n                        border: `1px solid ${theme.border}`,\n                        borderRadius: \"12px\",\n                        padding: \"1rem\",\n                        maxWidth: \"300px\",\n                        zIndex: 9998,\n                        boxShadow: \"0 8px 32px rgba(0, 0, 0, 0.2)\",\n                        fontSize: \"0.8rem\"\n                    }}\n                >\n                    <h4 style={{\n                        margin: \"0 0 1rem 0\",\n                        color: theme.accent,\n                        fontSize: \"1rem\"\n                    }}>\n                        AI Cache Status\n                    </h4>\n\n                    <div style={{ marginBottom: \"1rem\" }}>\n                        <strong>Cache Entries: </strong>\n                        <span style={{ color: theme.accent }}>\n                            {cacheInfo?.cacheSize || 0}\n                        </span>\n                    </div>\n\n                    {cacheInfo?.entries && cacheInfo.entries.length > 0 && (\n                        <div style={{ marginBottom: \"1rem\" }}>\n                            <strong>Cached APIs:</strong>\n                            <ul style={{\n                                margin: \"0.5rem 0\",\n                                paddingLeft: \"1rem\",\n                                listStyle: \"disc\"\n                            }}>\n                                {cacheInfo.entries.map((entry, index) => (\n                                    <li key={index} style={{\n                                        color: theme.textSecondary,\n                                        fontSize: \"0.7rem\",\n                                        marginBottom: \"0.2rem\"\n                                    }}>\n                                        {entry.split(':')[0]}\n                                    </li>\n                                ))}\n                            </ul>\n                        </div>\n                    )}\n\n                    <div style={{\n                        display: \"flex\",\n                        gap: \"0.5rem\",\n                        flexWrap: \"wrap\"\n                    }}>\n                        <button\n                            onClick={updateCacheInfo}\n                            style={{\n                                background: theme.accent,\n                                color: theme.background,\n                                border: \"none\",\n                                borderRadius: \"4px\",\n                                padding: \"0.3rem 0.6rem\",\n                                fontSize: \"0.7rem\",\n                                cursor: \"pointer\"\n                            }}\n                        >\n                            Refresh\n                        </button>\n                        <button\n                            onClick={cleanExpiredCache}\n                            style={{\n                                background: theme.surfaceSecondary,\n                                color: theme.text,\n                                border: `1px solid ${theme.border}`,\n                                borderRadius: \"4px\",\n                                padding: \"0.3rem 0.6rem\",\n                                fontSize: \"0.7rem\",\n                                cursor: \"pointer\"\n                            }}\n                        >\n                            Clean Expired\n                        </button>\n                        <button\n                            onClick={clearAllCache}\n                            style={{\n                                background: theme.danger,\n                                color: \"#fff\",\n                                border: \"none\",\n                                borderRadius: \"4px\",\n                                padding: \"0.3rem 0.6rem\",\n                                fontSize: \"0.7rem\",\n                                cursor: \"pointer\"\n                            }}\n                        >\n                            Clear All\n                        </button>\n                    </div>\n\n                    <div style={{\n                        marginTop: \"1rem\",\n                        padding: \"0.5rem\",\n                        background: theme.surfaceSecondary,\n                        borderRadius: \"6px\",\n                        fontSize: \"0.7rem\",\n                        color: theme.textSecondary\n                    }}>\n                        <div>Cache Duration: 5 days</div>\n                        <div>Rate Limit: 30 seconds</div>\n                    </div>\n                </div>\n            )}\n        </>\n    );\n};\n\nexport default AICacheStatus;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}