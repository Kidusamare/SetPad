{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kidus\\\\OneDrive\\\\Documentos\\\\Summer2025\\\\fitness-tracker-frontend\\\\Frontend\\\\src\\\\components\\\\TrainingLogTable.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { useTheme } from \"../context/ThemeContext\";\nimport TrainingLogManager from \"./TrainingLogManager\";\nimport TrainingLogRow from \"./TrainingLogRow\";\nimport WorkoutTemplates from \"./WorkoutTemplates\";\nimport { useAutoSave } from \"../hooks/useAutoSave\";\nimport { useFormKeyboardNavigation } from \"../hooks/useKeyboardShortcuts\";\nimport { saveWorkoutAsTemplate } from \"../services/workoutTemplates\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst manager = new TrainingLogManager();\nexport default function TrainingLogTable() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    theme\n  } = useTheme();\n  const [log, setLog] = useState(null);\n  const [muscleGroupSuggestions, setMuscleGroupSuggestions] = useState([]);\n  const [exerciseSuggestions, setExerciseSuggestions] = useState([]);\n  const [currentMuscleGroup, setCurrentMuscleGroup] = useState(\"\");\n  const [showBackButton, setShowBackButton] = useState(true);\n  const [lastScrollY, setLastScrollY] = useState(0);\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\n  const [saveStatus, setSaveStatus] = useState('');\n  const [lastSaveTime, setLastSaveTime] = useState(null);\n  const [showTemplates, setShowTemplates] = useState(false);\n  const [showSaveTemplate, setShowSaveTemplate] = useState(false);\n  const [templateName, setTemplateName] = useState('');\n  const [templateDescription, setTemplateDescription] = useState('');\n  const isMobile = windowWidth <= 768;\n\n  // Window resize detection\n  useEffect(() => {\n    const handleResize = () => {\n      setWindowWidth(window.innerWidth);\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  useEffect(() => {\n    const handleScroll = () => {\n      const currentScrollY = window.scrollY;\n\n      // Show button if at top of page or scrolling up\n      const isAtTop = currentScrollY < 50;\n      const isScrollingUp = currentScrollY < lastScrollY;\n      setShowBackButton(isAtTop || isScrollingUp);\n      setLastScrollY(currentScrollY);\n    };\n    window.addEventListener('scroll', handleScroll, {\n      passive: true\n    });\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, [lastScrollY]);\n  useEffect(() => {\n    const loadLog = async () => {\n      const saved = await manager.loadTable(id);\n      if (saved) {\n        setLog(saved);\n      } else {\n        const today = new Date().toISOString().split(\"T\")[0];\n        const defaultRow = {\n          id: 0,\n          muscleGroup: \"\",\n          exercise: \"\",\n          sets: [{\n            reps: \"\",\n            weight: \"\"\n          }, {\n            reps: \"\",\n            weight: \"\"\n          }],\n          notes: \"\",\n          showNotes: false,\n          weightUnit: \"lbs\"\n        };\n        const defaultLog = {\n          id: id,\n          tableName: \"New Log\",\n          date: today,\n          rows: [defaultRow]\n        };\n        setLog(defaultLog);\n      }\n    };\n    loadLog();\n  }, [id]);\n\n  // Fetch suggestions when component mounts\n  useEffect(() => {\n    const fetchSuggestions = async () => {\n      try {\n        const [muscleGroups, exercises] = await Promise.all([manager.getUniqueMuscleGroups(), manager.getUniqueExercises()]);\n        setMuscleGroupSuggestions(muscleGroups);\n        setExerciseSuggestions(exercises);\n      } catch (error) {\n        console.error(\"Error fetching suggestions:\", error);\n      }\n    };\n    fetchSuggestions();\n  }, []);\n\n  // Update exercise suggestions when muscle group changes\n  useEffect(() => {\n    const fetchExercisesForMuscleGroup = async () => {\n      if (currentMuscleGroup.trim()) {\n        try {\n          const exercises = await manager.getExercisesForMuscleGroup(currentMuscleGroup);\n          setExerciseSuggestions(exercises);\n        } catch (error) {\n          console.error(\"Error fetching exercises for muscle group:\", error);\n        }\n      } else {\n        // If no muscle group selected, show all exercises\n        try {\n          const allExercises = await manager.getUniqueExercises();\n          setExerciseSuggestions(allExercises);\n        } catch (error) {\n          console.error(\"Error fetching all exercises:\", error);\n        }\n      }\n    };\n    fetchExercisesForMuscleGroup();\n  }, [currentMuscleGroup]);\n  const updateRow = (index, updatedRow) => {\n    setLog(prevLog => {\n      const newRows = [...prevLog.rows];\n      newRows[index] = {\n        ...newRows[index],\n        ...updatedRow\n      };\n      return {\n        ...prevLog,\n        rows: newRows\n      };\n    });\n  };\n  const addRow = () => {\n    setLog(prevLog => {\n      const newRow = {\n        id: prevLog.rows.length,\n        muscleGroup: \"\",\n        exercise: \"\",\n        sets: [{\n          reps: \"\",\n          weight: \"\"\n        }],\n        notes: \"\",\n        showNotes: false,\n        weightUnit: \"lbs\"\n      };\n      return {\n        ...prevLog,\n        rows: [...prevLog.rows, newRow]\n      };\n    });\n  };\n  const deleteLastRow = () => {\n    setLog(prevLog => {\n      if (prevLog.rows.length <= 1) return prevLog;\n      const newRows = prevLog.rows.slice(0, -1);\n      return {\n        ...prevLog,\n        rows: newRows\n      };\n    });\n  };\n  const handleApplyTemplate = templateLog => {\n    setLog(templateLog);\n    setSaveStatus('Template applied');\n    setTimeout(() => setSaveStatus(''), 2000);\n  };\n  const handleRename = e => {\n    setLog(prevLog => ({\n      ...prevLog,\n      tableName: e.target.value\n    }));\n  };\n  const handleMuscleGroupChange = muscleGroup => {\n    setCurrentMuscleGroup(muscleGroup);\n  };\n  const handleSaveAsTemplate = async () => {\n    if (!templateName.trim()) {\n      alert('Please enter a template name.');\n      return;\n    }\n    const result = await saveWorkoutAsTemplate(log, templateName.trim(), templateDescription.trim());\n    if (result.success) {\n      setSaveStatus(`Template \"${templateName}\" saved!`);\n      setShowSaveTemplate(false);\n      setTemplateName('');\n      setTemplateDescription('');\n      setTimeout(() => setSaveStatus(''), 3000);\n    } else {\n      alert(result.message);\n    }\n  };\n\n  // Auto-save function for the hook\n  const saveLog = async logData => {\n    if (logData) {\n      try {\n        setSaveStatus('Saving...');\n        await manager.saveTable(logData);\n        setSaveStatus('Saved');\n        setLastSaveTime(new Date());\n        setTimeout(() => setSaveStatus(''), 2000);\n      } catch (error) {\n        setSaveStatus('Save failed');\n        console.error('Save error:', error);\n        setTimeout(() => setSaveStatus(''), 3000);\n        throw error;\n      }\n    }\n  };\n\n  // Use auto-save hook\n  const {\n    save: manualSave\n  } = useAutoSave(saveLog, log, 2000,\n  // 2 second delay\n  true // enabled\n  );\n\n  // Keyboard shortcuts\n  useFormKeyboardNavigation({\n    onSave: () => {\n      if (log) {\n        manualSave();\n        setSaveStatus('Manually saved');\n        setTimeout(() => setSaveStatus(''), 2000);\n      }\n    },\n    onAddRow: e => {\n      e.preventDefault();\n      addRow();\n    },\n    enabled: true\n  });\n  if (!log) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: 'var(--gradient-backdrop)',\n        minHeight: \"100vh\",\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'var(--primary-100)',\n          fontSize: 'var(--font-size-lg)',\n          fontFamily: 'var(--font-family-primary)'\n        },\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"training-log-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n                .training-log-container {\n                    padding: ${isMobile ? 'var(--space-4)' : 'var(--space-8)'};\n                    padding-top: ${isMobile ? 'var(--space-16)' : 'var(--space-20)'};\n                    color: var(--primary-100);\n                    background: var(--gradient-backdrop);\n                    min-height: 100vh;\n                    position: relative;\n                    font-family: var(--font-family-primary);\n                }\n\n                .back-button {\n                    position: fixed;\n                    top: var(--space-4);\n                    left: var(--space-4);\n                    background: var(--glass-bg);\n                    backdrop-filter: var(--glass-backdrop);\n                    border: 1px solid var(--glass-border);\n                    border-radius: var(--radius-lg);\n                    padding: var(--space-3) var(--space-6);\n                    color: var(--primary-100);\n                    font-weight: 600;\n                    font-size: var(--font-size-sm);\n                    cursor: pointer;\n                    z-index: var(--z-fixed);\n                    transition: var(--transition-normal);\n                    opacity: ${showBackButton ? 1 : 0};\n                    transform: ${showBackButton ? 'translateY(0)' : 'translateY(-10px)'};\n                    pointer-events: ${showBackButton ? 'auto' : 'none'};\n                }\n\n                .back-button:hover {\n                    background: rgba(255, 255, 255, 0.12);\n                    transform: translateY(-2px);\n                    box-shadow: var(--shadow-glow);\n                }\n\n                .header-section {\n                    margin-bottom: var(--space-8);\n                    text-align: center;\n                }\n\n                .workout-title {\n                    font-size: ${isMobile ? 'var(--font-size-2xl)' : 'var(--font-size-4xl)'};\n                    font-weight: 700;\n                    background: transparent;\n                    border: none;\n                    border-bottom: 2px solid var(--accent-primary);\n                    color: var(--accent-primary);\n                    margin-bottom: var(--space-4);\n                    width: 100%;\n                    max-width: 600px;\n                    padding: var(--space-2) 0;\n                    text-align: center;\n                    transition: var(--transition-normal);\n                    font-family: var(--font-family-primary);\n                }\n\n                .workout-title:focus {\n                    outline: none;\n                    border-bottom-color: var(--accent-secondary);\n                    box-shadow: 0 2px 0 var(--accent-secondary);\n                }\n\n                .date-input {\n                    background: var(--glass-bg);\n                    backdrop-filter: var(--glass-backdrop);\n                    color: var(--primary-100);\n                    padding: var(--space-3) var(--space-4);\n                    border: 1px solid var(--glass-border);\n                    border-radius: var(--radius-lg);\n                    font-weight: 600;\n                    font-size: var(--font-size-sm);\n                    cursor: pointer;\n                    transition: var(--transition-normal);\n                    font-family: var(--font-family-primary);\n                }\n\n                .date-input:hover {\n                    background: rgba(255, 255, 255, 0.12);\n                    border-color: var(--accent-primary);\n                }\n\n                .date-input:focus {\n                    outline: none;\n                    border-color: var(--accent-primary);\n                    box-shadow: var(--shadow-glow);\n                }\n\n                .divider {\n                    border: none;\n                    height: 1px;\n                    background: linear-gradient(90deg, transparent, var(--glass-border), transparent);\n                    margin: var(--space-8) 0;\n                }\n\n                .controls-section {\n                    margin-top: var(--space-8);\n                    padding: var(--space-6);\n                    background: var(--glass-bg);\n                    backdrop-filter: var(--glass-backdrop);\n                    border: 1px solid var(--glass-border);\n                    border-radius: var(--radius-2xl);\n                    transition: var(--transition-normal);\n                }\n\n                .controls-section:hover {\n                    background: rgba(255, 255, 255, 0.1);\n                    border-color: var(--accent-primary);\n                }\n\n                .controls-title {\n                    margin-bottom: var(--space-4);\n                    color: var(--accent-primary);\n                    font-size: var(--font-size-xl);\n                    font-weight: 700;\n                    text-align: center;\n                    background: linear-gradient(45deg, var(--accent-primary), var(--accent-tertiary));\n                    -webkit-background-clip: text;\n                    -webkit-text-fill-color: transparent;\n                    background-clip: text;\n                }\n\n                .button-grid {\n                    display: grid;\n                    grid-template-columns: ${isMobile ? '1fr' : 'repeat(auto-fit, minmax(180px, 1fr))'};\n                    gap: var(--space-4);\n                    margin-bottom: var(--space-6);\n                }\n\n                .action-button {\n                    background: var(--gradient-primary);\n                    border: none;\n                    border-radius: var(--radius-lg);\n                    padding: var(--space-4) var(--space-6);\n                    color: white;\n                    font-weight: 700;\n                    font-size: var(--font-size-sm);\n                    cursor: pointer;\n                    transition: var(--transition-normal);\n                    min-height: 44px;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    gap: var(--space-2);\n                    box-shadow: var(--shadow-md);\n                    font-family: var(--font-family-primary);\n                }\n\n                .action-button:hover {\n                    transform: translateY(-2px);\n                    box-shadow: var(--shadow-glow);\n                }\n\n                .secondary-button {\n                    background: var(--glass-bg);\n                    border: 1px solid var(--glass-border);\n                    border-radius: var(--radius-lg);\n                    padding: var(--space-4) var(--space-6);\n                    color: var(--primary-100);\n                    font-weight: 600;\n                    font-size: var(--font-size-sm);\n                    cursor: pointer;\n                    transition: var(--transition-normal);\n                    min-height: 44px;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    gap: var(--space-2);\n                    font-family: var(--font-family-primary);\n                }\n\n                .secondary-button:hover {\n                    background: rgba(255, 255, 255, 0.12);\n                    border-color: var(--accent-primary);\n                    transform: translateY(-1px);\n                }\n\n                .danger-button {\n                    background: rgba(255, 68, 102, 0.1);\n                    border: 1px solid rgba(255, 68, 102, 0.3);\n                    color: var(--accent-error);\n                }\n\n                .danger-button:hover:not(:disabled) {\n                    background: rgba(255, 68, 102, 0.2);\n                    border-color: var(--accent-error);\n                    color: white;\n                }\n\n                .danger-button:disabled {\n                    background: var(--primary-700);\n                    border-color: var(--primary-600);\n                    color: var(--primary-400);\n                    cursor: not-allowed;\n                    transform: none;\n                }\n\n                .save-button {\n                    background: var(--accent-success);\n                    color: white;\n                    box-shadow: 0 0 20px rgba(0, 255, 136, 0.3);\n                }\n\n                .save-button:hover {\n                    box-shadow: 0 0 30px rgba(0, 255, 136, 0.5);\n                }\n\n                .bottom-actions {\n                    display: flex;\n                    gap: var(--space-4);\n                    justify-content: center;\n                    flex-wrap: wrap;\n                }\n\n                .save-status {\n                    margin-top: var(--space-3);\n                    text-align: center;\n                    font-size: var(--font-size-xs);\n                    color: var(--primary-300);\n                    transition: var(--transition-normal);\n                }\n\n                .save-status.error {\n                    color: var(--accent-error);\n                }\n\n                .save-status.success {\n                    color: var(--accent-success);\n                }\n\n                .modal-overlay {\n                    position: fixed;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    background: rgba(10, 11, 15, 0.8);\n                    backdrop-filter: blur(8px);\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    z-index: var(--z-modal-backdrop);\n                    padding: var(--space-4);\n                }\n\n                .modal {\n                    background: var(--primary-800);\n                    border: 1px solid var(--glass-border);\n                    border-radius: var(--radius-2xl);\n                    padding: var(--space-8);\n                    max-width: 500px;\n                    width: 100%;\n                    box-shadow: var(--shadow-xl);\n                    transform: scale(0.9);\n                    animation: modalAppear 0.3s ease forwards;\n                }\n\n                @keyframes modalAppear {\n                    to {\n                        transform: scale(1);\n                    }\n                }\n\n                .modal-title {\n                    font-size: var(--font-size-xl);\n                    font-weight: 700;\n                    color: var(--primary-100);\n                    margin-bottom: var(--space-6);\n                    text-align: center;\n                }\n\n                .modal-input {\n                    width: 100%;\n                    background: var(--glass-bg);\n                    border: 1px solid var(--glass-border);\n                    border-radius: var(--radius-lg);\n                    padding: var(--space-4);\n                    color: var(--primary-100);\n                    font-size: var(--font-size-sm);\n                    margin-bottom: var(--space-4);\n                    transition: var(--transition-normal);\n                    font-family: var(--font-family-primary);\n                }\n\n                .modal-input:focus {\n                    outline: none;\n                    border-color: var(--accent-primary);\n                    box-shadow: var(--shadow-glow);\n                }\n\n                .modal-textarea {\n                    width: 100%;\n                    background: var(--glass-bg);\n                    border: 1px solid var(--glass-border);\n                    border-radius: var(--radius-lg);\n                    padding: var(--space-4);\n                    color: var(--primary-100);\n                    font-size: var(--font-size-sm);\n                    margin-bottom: var(--space-6);\n                    resize: vertical;\n                    min-height: 80px;\n                    transition: var(--transition-normal);\n                    font-family: var(--font-family-primary);\n                }\n\n                .modal-textarea:focus {\n                    outline: none;\n                    border-color: var(--accent-primary);\n                    box-shadow: var(--shadow-glow);\n                }\n\n                .modal-actions {\n                    display: flex;\n                    gap: var(--space-4);\n                    justify-content: flex-end;\n                }\n\n                .modal-button {\n                    padding: var(--space-3) var(--space-6);\n                    border-radius: var(--radius-lg);\n                    font-weight: 600;\n                    cursor: pointer;\n                    transition: var(--transition-fast);\n                    border: none;\n                    font-size: var(--font-size-sm);\n                    font-family: var(--font-family-primary);\n                }\n\n                .modal-button-cancel {\n                    background: var(--glass-bg);\n                    color: var(--primary-200);\n                    border: 1px solid var(--glass-border);\n                }\n\n                .modal-button-cancel:hover {\n                    background: rgba(255, 255, 255, 0.12);\n                    color: var(--primary-100);\n                }\n\n                .modal-button-save {\n                    background: var(--gradient-primary);\n                    color: white;\n                }\n\n                .modal-button-save:hover {\n                    transform: translateY(-1px);\n                    box-shadow: var(--shadow-glow);\n                }\n            `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"back-button\",\n      onClick: () => {\n        console.log(`Navigating back from table ${id} to /log`);\n        try {\n          navigate(\"/log\", {\n            replace: true\n          });\n          // Force navigation if it doesn't work\n          setTimeout(() => {\n            if (window.location.pathname.includes('/log/')) {\n              console.log(\"Force redirecting to /log\");\n              window.location.href = '/log';\n            }\n          }, 100);\n        } catch (error) {\n          console.error(\"Navigation error:\", error);\n          window.location.href = '/log';\n        }\n      },\n      children: \"\\u2190 Back to Saved Logs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 612,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: log.tableName,\n        onChange: handleRename,\n        className: \"workout-title\",\n        placeholder: \"Workout Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 635,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: log.date,\n        onChange: e => setLog(prevLog => ({\n          ...prevLog,\n          date: e.target.value\n        })),\n        className: \"date-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 643,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 634,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n      className: \"divider\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 651,\n      columnNumber: 13\n    }, this), log.rows.map((row, index) => /*#__PURE__*/_jsxDEV(TrainingLogRow, {\n      rowData: row,\n      onUpdate: updated => updateRow(index, updated),\n      muscleGroupSuggestions: muscleGroupSuggestions,\n      exerciseSuggestions: exerciseSuggestions,\n      onMuscleGroupChange: handleMuscleGroupChange,\n      currentLogId: log.id\n    }, row.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 654,\n      columnNumber: 17\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"controls-title\",\n        children: \"Workout Controls\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 666,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"action-button\",\n          onClick: addRow,\n          children: \"\\u2795 Add Exercise\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 669,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"secondary-button\",\n          onClick: () => setShowTemplates(true),\n          children: \"\\uD83D\\uDCCB Use Template\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 673,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"secondary-button\",\n          onClick: () => setShowSaveTemplate(true),\n          children: \"\\uD83D\\uDCBE Save as Template\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 677,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 668,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bottom-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"secondary-button danger-button\",\n          onClick: deleteLastRow,\n          disabled: log.rows.length <= 1,\n          children: \"\\uD83D\\uDDD1 Delete Last\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 683,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"action-button save-button\",\n          onClick: () => {\n            manualSave();\n            setSaveStatus('Manually saved');\n            setTimeout(() => setSaveStatus(''), 2000);\n          },\n          children: saveStatus === 'Saving...' ? '⏳ Saving...' : saveStatus === 'Saved' ? '✅ Saved' : saveStatus === 'Save failed' ? '❌ Save Failed' : '💾 Save Workout (Ctrl+S)'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 691,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 682,\n        columnNumber: 17\n      }, this), (saveStatus || lastSaveTime) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `save-status ${saveStatus === 'Save failed' ? 'error' : saveStatus ? 'success' : ''}`,\n        children: saveStatus || lastSaveTime && `Last saved: ${lastSaveTime.toLocaleTimeString()}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 708,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 665,\n      columnNumber: 13\n    }, this), showTemplates && /*#__PURE__*/_jsxDEV(WorkoutTemplates, {\n      currentLog: log,\n      onApplyTemplate: handleApplyTemplate,\n      onClose: () => setShowTemplates(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 716,\n      columnNumber: 17\n    }, this), showSaveTemplate && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: () => setShowSaveTemplate(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"modal-title\",\n          children: \"Save as Template\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 727,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Template name\",\n          value: templateName,\n          onChange: e => setTemplateName(e.target.value),\n          className: \"modal-input\",\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 729,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          placeholder: \"Description (optional)\",\n          value: templateDescription,\n          onChange: e => setTemplateDescription(e.target.value),\n          className: \"modal-textarea\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 738,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-button modal-button-cancel\",\n            onClick: () => {\n              setShowSaveTemplate(false);\n              setTemplateName('');\n              setTemplateDescription('');\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 746,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-button modal-button-save\",\n            onClick: handleSaveAsTemplate,\n            children: \"Save Template\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 756,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 745,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 726,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 725,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 260,\n    columnNumber: 9\n  }, this);\n}\n_s(TrainingLogTable, \"7Itt7R+g/VIVmJE5YHPYa3AoDv8=\", false, function () {\n  return [useParams, useNavigate, useTheme, useAutoSave, useFormKeyboardNavigation];\n});\n_c = TrainingLogTable;\nvar _c;\n$RefreshReg$(_c, \"TrainingLogTable\");","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","useTheme","TrainingLogManager","TrainingLogRow","WorkoutTemplates","useAutoSave","useFormKeyboardNavigation","saveWorkoutAsTemplate","jsxDEV","_jsxDEV","manager","TrainingLogTable","_s","id","navigate","theme","log","setLog","muscleGroupSuggestions","setMuscleGroupSuggestions","exerciseSuggestions","setExerciseSuggestions","currentMuscleGroup","setCurrentMuscleGroup","showBackButton","setShowBackButton","lastScrollY","setLastScrollY","windowWidth","setWindowWidth","window","innerWidth","saveStatus","setSaveStatus","lastSaveTime","setLastSaveTime","showTemplates","setShowTemplates","showSaveTemplate","setShowSaveTemplate","templateName","setTemplateName","templateDescription","setTemplateDescription","isMobile","handleResize","addEventListener","removeEventListener","handleScroll","currentScrollY","scrollY","isAtTop","isScrollingUp","passive","loadLog","saved","loadTable","today","Date","toISOString","split","defaultRow","muscleGroup","exercise","sets","reps","weight","notes","showNotes","weightUnit","defaultLog","tableName","date","rows","fetchSuggestions","muscleGroups","exercises","Promise","all","getUniqueMuscleGroups","getUniqueExercises","error","console","fetchExercisesForMuscleGroup","trim","getExercisesForMuscleGroup","allExercises","updateRow","index","updatedRow","prevLog","newRows","addRow","newRow","length","deleteLastRow","slice","handleApplyTemplate","templateLog","setTimeout","handleRename","e","target","value","handleMuscleGroupChange","handleSaveAsTemplate","alert","result","success","message","saveLog","logData","saveTable","save","manualSave","onSave","onAddRow","preventDefault","enabled","style","background","minHeight","display","alignItems","justifyContent","children","color","fontSize","fontFamily","fileName","_jsxFileName","lineNumber","columnNumber","className","jsx","onClick","replace","location","pathname","includes","href","type","onChange","placeholder","map","row","rowData","onUpdate","updated","onMuscleGroupChange","currentLogId","disabled","toLocaleTimeString","currentLog","onApplyTemplate","onClose","stopPropagation","autoFocus","_c","$RefreshReg$"],"sources":["C:/Users/kidus/OneDrive/Documentos/Summer2025/fitness-tracker-frontend/Frontend/src/components/TrainingLogTable.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { useTheme } from \"../context/ThemeContext\";\r\nimport TrainingLogManager from \"./TrainingLogManager\";\r\nimport TrainingLogRow from \"./TrainingLogRow\";\r\nimport WorkoutTemplates from \"./WorkoutTemplates\";\r\nimport { useAutoSave } from \"../hooks/useAutoSave\";\r\nimport { useFormKeyboardNavigation } from \"../hooks/useKeyboardShortcuts\";\r\nimport { saveWorkoutAsTemplate } from \"../services/workoutTemplates\";\r\n\r\nconst manager = new TrainingLogManager();\r\n\r\nexport default function TrainingLogTable() {\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n    const { theme } = useTheme();\r\n    const [log, setLog] = useState(null);\r\n    const [muscleGroupSuggestions, setMuscleGroupSuggestions] = useState([]);\r\n    const [exerciseSuggestions, setExerciseSuggestions] = useState([]);\r\n    const [currentMuscleGroup, setCurrentMuscleGroup] = useState(\"\");\r\n    const [showBackButton, setShowBackButton] = useState(true);\r\n    const [lastScrollY, setLastScrollY] = useState(0);\r\n    const [windowWidth, setWindowWidth] = useState(window.innerWidth);\r\n    const [saveStatus, setSaveStatus] = useState('');\r\n    const [lastSaveTime, setLastSaveTime] = useState(null);\r\n    const [showTemplates, setShowTemplates] = useState(false);\r\n    const [showSaveTemplate, setShowSaveTemplate] = useState(false);\r\n    const [templateName, setTemplateName] = useState('');\r\n    const [templateDescription, setTemplateDescription] = useState('');\r\n\r\n    const isMobile = windowWidth <= 768;\r\n\r\n    // Window resize detection\r\n    useEffect(() => {\r\n        const handleResize = () => {\r\n            setWindowWidth(window.innerWidth);\r\n        };\r\n\r\n        window.addEventListener('resize', handleResize);\r\n        return () => window.removeEventListener('resize', handleResize);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const handleScroll = () => {\r\n            const currentScrollY = window.scrollY;\r\n            \r\n            // Show button if at top of page or scrolling up\r\n            const isAtTop = currentScrollY < 50;\r\n            const isScrollingUp = currentScrollY < lastScrollY;\r\n            \r\n            setShowBackButton(isAtTop || isScrollingUp);\r\n            setLastScrollY(currentScrollY);\r\n        };\r\n\r\n        window.addEventListener('scroll', handleScroll, { passive: true });\r\n        return () => window.removeEventListener('scroll', handleScroll);\r\n    }, [lastScrollY]);\r\n\r\n    useEffect(() => {\r\n        const loadLog = async () => {\r\n            const saved = await manager.loadTable(id);\r\n            if (saved) {\r\n                setLog(saved);\r\n            } else {\r\n                const today = new Date().toISOString().split(\"T\")[0];\r\n                const defaultRow = {\r\n                    id: 0,\r\n                    muscleGroup: \"\",\r\n                    exercise: \"\",\r\n                    sets: [\r\n                        { reps: \"\", weight: \"\" },\r\n                        { reps: \"\", weight: \"\" }\r\n                    ],\r\n                    notes: \"\",\r\n                    showNotes: false,\r\n                    weightUnit: \"lbs\"\r\n                };\r\n                const defaultLog = {\r\n                    id: id,\r\n                    tableName: \"New Log\",\r\n                    date: today,\r\n                    rows: [defaultRow]\r\n                };\r\n                setLog(defaultLog);\r\n            }\r\n        };\r\n\r\n        loadLog();\r\n    }, [id]);\r\n\r\n    // Fetch suggestions when component mounts\r\n    useEffect(() => {\r\n        const fetchSuggestions = async () => {\r\n            try {\r\n                const [muscleGroups, exercises] = await Promise.all([\r\n                    manager.getUniqueMuscleGroups(),\r\n                    manager.getUniqueExercises()\r\n                ]);\r\n                setMuscleGroupSuggestions(muscleGroups);\r\n                setExerciseSuggestions(exercises);\r\n            } catch (error) {\r\n                console.error(\"Error fetching suggestions:\", error);\r\n            }\r\n        };\r\n\r\n        fetchSuggestions();\r\n    }, []);\r\n\r\n    // Update exercise suggestions when muscle group changes\r\n    useEffect(() => {\r\n        const fetchExercisesForMuscleGroup = async () => {\r\n            if (currentMuscleGroup.trim()) {\r\n                try {\r\n                    const exercises = await manager.getExercisesForMuscleGroup(currentMuscleGroup);\r\n                    setExerciseSuggestions(exercises);\r\n                } catch (error) {\r\n                    console.error(\"Error fetching exercises for muscle group:\", error);\r\n                }\r\n            } else {\r\n                // If no muscle group selected, show all exercises\r\n                try {\r\n                    const allExercises = await manager.getUniqueExercises();\r\n                    setExerciseSuggestions(allExercises);\r\n                } catch (error) {\r\n                    console.error(\"Error fetching all exercises:\", error);\r\n                }\r\n            }\r\n        };\r\n\r\n        fetchExercisesForMuscleGroup();\r\n    }, [currentMuscleGroup]);\r\n\r\n    const updateRow = (index, updatedRow) => {\r\n        setLog(prevLog => {\r\n            const newRows = [...prevLog.rows];\r\n            newRows[index] = { ...newRows[index], ...updatedRow };\r\n            return { ...prevLog, rows: newRows };\r\n        });\r\n    };\r\n\r\n    const addRow = () => {\r\n        setLog(prevLog => {\r\n            const newRow = {\r\n                id: prevLog.rows.length,\r\n                muscleGroup: \"\",\r\n                exercise: \"\",\r\n                sets: [{ reps: \"\", weight: \"\" }],\r\n                notes: \"\",\r\n                showNotes: false,\r\n                weightUnit: \"lbs\"\r\n            };\r\n            return { ...prevLog, rows: [...prevLog.rows, newRow] };\r\n        });\r\n    };\r\n\r\n    const deleteLastRow = () => {\r\n        setLog(prevLog => {\r\n            if (prevLog.rows.length <= 1) return prevLog;\r\n            const newRows = prevLog.rows.slice(0, -1);\r\n            return { ...prevLog, rows: newRows };\r\n        });\r\n    };\r\n\r\n    const handleApplyTemplate = (templateLog) => {\r\n        setLog(templateLog);\r\n        setSaveStatus('Template applied');\r\n        setTimeout(() => setSaveStatus(''), 2000);\r\n    };\r\n\r\n    const handleRename = (e) => {\r\n        setLog(prevLog => ({ ...prevLog, tableName: e.target.value }));\r\n    };\r\n\r\n    const handleMuscleGroupChange = (muscleGroup) => {\r\n        setCurrentMuscleGroup(muscleGroup);\r\n    };\r\n\r\n    const handleSaveAsTemplate = async () => {\r\n        if (!templateName.trim()) {\r\n            alert('Please enter a template name.');\r\n            return;\r\n        }\r\n\r\n        const result = await saveWorkoutAsTemplate(log, templateName.trim(), templateDescription.trim());\r\n        \r\n        if (result.success) {\r\n            setSaveStatus(`Template \"${templateName}\" saved!`);\r\n            setShowSaveTemplate(false);\r\n            setTemplateName('');\r\n            setTemplateDescription('');\r\n            setTimeout(() => setSaveStatus(''), 3000);\r\n        } else {\r\n            alert(result.message);\r\n        }\r\n    };\r\n\r\n    // Auto-save function for the hook\r\n    const saveLog = async (logData) => {\r\n        if (logData) {\r\n            try {\r\n                setSaveStatus('Saving...');\r\n                await manager.saveTable(logData);\r\n                setSaveStatus('Saved');\r\n                setLastSaveTime(new Date());\r\n                setTimeout(() => setSaveStatus(''), 2000);\r\n            } catch (error) {\r\n                setSaveStatus('Save failed');\r\n                console.error('Save error:', error);\r\n                setTimeout(() => setSaveStatus(''), 3000);\r\n                throw error;\r\n            }\r\n        }\r\n    };\r\n\r\n    // Use auto-save hook\r\n    const { save: manualSave } = useAutoSave(\r\n        saveLog,\r\n        log,\r\n        2000, // 2 second delay\r\n        true  // enabled\r\n    );\r\n\r\n    // Keyboard shortcuts\r\n    useFormKeyboardNavigation({\r\n        onSave: () => {\r\n            if (log) {\r\n                manualSave();\r\n                setSaveStatus('Manually saved');\r\n                setTimeout(() => setSaveStatus(''), 2000);\r\n            }\r\n        },\r\n        onAddRow: (e) => {\r\n            e.preventDefault();\r\n            addRow();\r\n        },\r\n        enabled: true\r\n    });\r\n\r\n    if (!log) {\r\n        return (\r\n            <div style={{ \r\n                background: 'var(--gradient-backdrop)', \r\n                minHeight: \"100vh\",\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center'\r\n            }}>\r\n                <div style={{\r\n                    color: 'var(--primary-100)',\r\n                    fontSize: 'var(--font-size-lg)',\r\n                    fontFamily: 'var(--font-family-primary)'\r\n                }}>\r\n                    Loading...\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"training-log-container\">\r\n            <style jsx>{`\r\n                .training-log-container {\r\n                    padding: ${isMobile ? 'var(--space-4)' : 'var(--space-8)'};\r\n                    padding-top: ${isMobile ? 'var(--space-16)' : 'var(--space-20)'};\r\n                    color: var(--primary-100);\r\n                    background: var(--gradient-backdrop);\r\n                    min-height: 100vh;\r\n                    position: relative;\r\n                    font-family: var(--font-family-primary);\r\n                }\r\n\r\n                .back-button {\r\n                    position: fixed;\r\n                    top: var(--space-4);\r\n                    left: var(--space-4);\r\n                    background: var(--glass-bg);\r\n                    backdrop-filter: var(--glass-backdrop);\r\n                    border: 1px solid var(--glass-border);\r\n                    border-radius: var(--radius-lg);\r\n                    padding: var(--space-3) var(--space-6);\r\n                    color: var(--primary-100);\r\n                    font-weight: 600;\r\n                    font-size: var(--font-size-sm);\r\n                    cursor: pointer;\r\n                    z-index: var(--z-fixed);\r\n                    transition: var(--transition-normal);\r\n                    opacity: ${showBackButton ? 1 : 0};\r\n                    transform: ${showBackButton ? 'translateY(0)' : 'translateY(-10px)'};\r\n                    pointer-events: ${showBackButton ? 'auto' : 'none'};\r\n                }\r\n\r\n                .back-button:hover {\r\n                    background: rgba(255, 255, 255, 0.12);\r\n                    transform: translateY(-2px);\r\n                    box-shadow: var(--shadow-glow);\r\n                }\r\n\r\n                .header-section {\r\n                    margin-bottom: var(--space-8);\r\n                    text-align: center;\r\n                }\r\n\r\n                .workout-title {\r\n                    font-size: ${isMobile ? 'var(--font-size-2xl)' : 'var(--font-size-4xl)'};\r\n                    font-weight: 700;\r\n                    background: transparent;\r\n                    border: none;\r\n                    border-bottom: 2px solid var(--accent-primary);\r\n                    color: var(--accent-primary);\r\n                    margin-bottom: var(--space-4);\r\n                    width: 100%;\r\n                    max-width: 600px;\r\n                    padding: var(--space-2) 0;\r\n                    text-align: center;\r\n                    transition: var(--transition-normal);\r\n                    font-family: var(--font-family-primary);\r\n                }\r\n\r\n                .workout-title:focus {\r\n                    outline: none;\r\n                    border-bottom-color: var(--accent-secondary);\r\n                    box-shadow: 0 2px 0 var(--accent-secondary);\r\n                }\r\n\r\n                .date-input {\r\n                    background: var(--glass-bg);\r\n                    backdrop-filter: var(--glass-backdrop);\r\n                    color: var(--primary-100);\r\n                    padding: var(--space-3) var(--space-4);\r\n                    border: 1px solid var(--glass-border);\r\n                    border-radius: var(--radius-lg);\r\n                    font-weight: 600;\r\n                    font-size: var(--font-size-sm);\r\n                    cursor: pointer;\r\n                    transition: var(--transition-normal);\r\n                    font-family: var(--font-family-primary);\r\n                }\r\n\r\n                .date-input:hover {\r\n                    background: rgba(255, 255, 255, 0.12);\r\n                    border-color: var(--accent-primary);\r\n                }\r\n\r\n                .date-input:focus {\r\n                    outline: none;\r\n                    border-color: var(--accent-primary);\r\n                    box-shadow: var(--shadow-glow);\r\n                }\r\n\r\n                .divider {\r\n                    border: none;\r\n                    height: 1px;\r\n                    background: linear-gradient(90deg, transparent, var(--glass-border), transparent);\r\n                    margin: var(--space-8) 0;\r\n                }\r\n\r\n                .controls-section {\r\n                    margin-top: var(--space-8);\r\n                    padding: var(--space-6);\r\n                    background: var(--glass-bg);\r\n                    backdrop-filter: var(--glass-backdrop);\r\n                    border: 1px solid var(--glass-border);\r\n                    border-radius: var(--radius-2xl);\r\n                    transition: var(--transition-normal);\r\n                }\r\n\r\n                .controls-section:hover {\r\n                    background: rgba(255, 255, 255, 0.1);\r\n                    border-color: var(--accent-primary);\r\n                }\r\n\r\n                .controls-title {\r\n                    margin-bottom: var(--space-4);\r\n                    color: var(--accent-primary);\r\n                    font-size: var(--font-size-xl);\r\n                    font-weight: 700;\r\n                    text-align: center;\r\n                    background: linear-gradient(45deg, var(--accent-primary), var(--accent-tertiary));\r\n                    -webkit-background-clip: text;\r\n                    -webkit-text-fill-color: transparent;\r\n                    background-clip: text;\r\n                }\r\n\r\n                .button-grid {\r\n                    display: grid;\r\n                    grid-template-columns: ${isMobile ? '1fr' : 'repeat(auto-fit, minmax(180px, 1fr))'};\r\n                    gap: var(--space-4);\r\n                    margin-bottom: var(--space-6);\r\n                }\r\n\r\n                .action-button {\r\n                    background: var(--gradient-primary);\r\n                    border: none;\r\n                    border-radius: var(--radius-lg);\r\n                    padding: var(--space-4) var(--space-6);\r\n                    color: white;\r\n                    font-weight: 700;\r\n                    font-size: var(--font-size-sm);\r\n                    cursor: pointer;\r\n                    transition: var(--transition-normal);\r\n                    min-height: 44px;\r\n                    display: flex;\r\n                    align-items: center;\r\n                    justify-content: center;\r\n                    gap: var(--space-2);\r\n                    box-shadow: var(--shadow-md);\r\n                    font-family: var(--font-family-primary);\r\n                }\r\n\r\n                .action-button:hover {\r\n                    transform: translateY(-2px);\r\n                    box-shadow: var(--shadow-glow);\r\n                }\r\n\r\n                .secondary-button {\r\n                    background: var(--glass-bg);\r\n                    border: 1px solid var(--glass-border);\r\n                    border-radius: var(--radius-lg);\r\n                    padding: var(--space-4) var(--space-6);\r\n                    color: var(--primary-100);\r\n                    font-weight: 600;\r\n                    font-size: var(--font-size-sm);\r\n                    cursor: pointer;\r\n                    transition: var(--transition-normal);\r\n                    min-height: 44px;\r\n                    display: flex;\r\n                    align-items: center;\r\n                    justify-content: center;\r\n                    gap: var(--space-2);\r\n                    font-family: var(--font-family-primary);\r\n                }\r\n\r\n                .secondary-button:hover {\r\n                    background: rgba(255, 255, 255, 0.12);\r\n                    border-color: var(--accent-primary);\r\n                    transform: translateY(-1px);\r\n                }\r\n\r\n                .danger-button {\r\n                    background: rgba(255, 68, 102, 0.1);\r\n                    border: 1px solid rgba(255, 68, 102, 0.3);\r\n                    color: var(--accent-error);\r\n                }\r\n\r\n                .danger-button:hover:not(:disabled) {\r\n                    background: rgba(255, 68, 102, 0.2);\r\n                    border-color: var(--accent-error);\r\n                    color: white;\r\n                }\r\n\r\n                .danger-button:disabled {\r\n                    background: var(--primary-700);\r\n                    border-color: var(--primary-600);\r\n                    color: var(--primary-400);\r\n                    cursor: not-allowed;\r\n                    transform: none;\r\n                }\r\n\r\n                .save-button {\r\n                    background: var(--accent-success);\r\n                    color: white;\r\n                    box-shadow: 0 0 20px rgba(0, 255, 136, 0.3);\r\n                }\r\n\r\n                .save-button:hover {\r\n                    box-shadow: 0 0 30px rgba(0, 255, 136, 0.5);\r\n                }\r\n\r\n                .bottom-actions {\r\n                    display: flex;\r\n                    gap: var(--space-4);\r\n                    justify-content: center;\r\n                    flex-wrap: wrap;\r\n                }\r\n\r\n                .save-status {\r\n                    margin-top: var(--space-3);\r\n                    text-align: center;\r\n                    font-size: var(--font-size-xs);\r\n                    color: var(--primary-300);\r\n                    transition: var(--transition-normal);\r\n                }\r\n\r\n                .save-status.error {\r\n                    color: var(--accent-error);\r\n                }\r\n\r\n                .save-status.success {\r\n                    color: var(--accent-success);\r\n                }\r\n\r\n                .modal-overlay {\r\n                    position: fixed;\r\n                    top: 0;\r\n                    left: 0;\r\n                    right: 0;\r\n                    bottom: 0;\r\n                    background: rgba(10, 11, 15, 0.8);\r\n                    backdrop-filter: blur(8px);\r\n                    display: flex;\r\n                    align-items: center;\r\n                    justify-content: center;\r\n                    z-index: var(--z-modal-backdrop);\r\n                    padding: var(--space-4);\r\n                }\r\n\r\n                .modal {\r\n                    background: var(--primary-800);\r\n                    border: 1px solid var(--glass-border);\r\n                    border-radius: var(--radius-2xl);\r\n                    padding: var(--space-8);\r\n                    max-width: 500px;\r\n                    width: 100%;\r\n                    box-shadow: var(--shadow-xl);\r\n                    transform: scale(0.9);\r\n                    animation: modalAppear 0.3s ease forwards;\r\n                }\r\n\r\n                @keyframes modalAppear {\r\n                    to {\r\n                        transform: scale(1);\r\n                    }\r\n                }\r\n\r\n                .modal-title {\r\n                    font-size: var(--font-size-xl);\r\n                    font-weight: 700;\r\n                    color: var(--primary-100);\r\n                    margin-bottom: var(--space-6);\r\n                    text-align: center;\r\n                }\r\n\r\n                .modal-input {\r\n                    width: 100%;\r\n                    background: var(--glass-bg);\r\n                    border: 1px solid var(--glass-border);\r\n                    border-radius: var(--radius-lg);\r\n                    padding: var(--space-4);\r\n                    color: var(--primary-100);\r\n                    font-size: var(--font-size-sm);\r\n                    margin-bottom: var(--space-4);\r\n                    transition: var(--transition-normal);\r\n                    font-family: var(--font-family-primary);\r\n                }\r\n\r\n                .modal-input:focus {\r\n                    outline: none;\r\n                    border-color: var(--accent-primary);\r\n                    box-shadow: var(--shadow-glow);\r\n                }\r\n\r\n                .modal-textarea {\r\n                    width: 100%;\r\n                    background: var(--glass-bg);\r\n                    border: 1px solid var(--glass-border);\r\n                    border-radius: var(--radius-lg);\r\n                    padding: var(--space-4);\r\n                    color: var(--primary-100);\r\n                    font-size: var(--font-size-sm);\r\n                    margin-bottom: var(--space-6);\r\n                    resize: vertical;\r\n                    min-height: 80px;\r\n                    transition: var(--transition-normal);\r\n                    font-family: var(--font-family-primary);\r\n                }\r\n\r\n                .modal-textarea:focus {\r\n                    outline: none;\r\n                    border-color: var(--accent-primary);\r\n                    box-shadow: var(--shadow-glow);\r\n                }\r\n\r\n                .modal-actions {\r\n                    display: flex;\r\n                    gap: var(--space-4);\r\n                    justify-content: flex-end;\r\n                }\r\n\r\n                .modal-button {\r\n                    padding: var(--space-3) var(--space-6);\r\n                    border-radius: var(--radius-lg);\r\n                    font-weight: 600;\r\n                    cursor: pointer;\r\n                    transition: var(--transition-fast);\r\n                    border: none;\r\n                    font-size: var(--font-size-sm);\r\n                    font-family: var(--font-family-primary);\r\n                }\r\n\r\n                .modal-button-cancel {\r\n                    background: var(--glass-bg);\r\n                    color: var(--primary-200);\r\n                    border: 1px solid var(--glass-border);\r\n                }\r\n\r\n                .modal-button-cancel:hover {\r\n                    background: rgba(255, 255, 255, 0.12);\r\n                    color: var(--primary-100);\r\n                }\r\n\r\n                .modal-button-save {\r\n                    background: var(--gradient-primary);\r\n                    color: white;\r\n                }\r\n\r\n                .modal-button-save:hover {\r\n                    transform: translateY(-1px);\r\n                    box-shadow: var(--shadow-glow);\r\n                }\r\n            `}</style>\r\n\r\n            <button\r\n                className=\"back-button\"\r\n                onClick={() => {\r\n                    console.log(`Navigating back from table ${id} to /log`);\r\n                    try {\r\n                        navigate(\"/log\", { replace: true });\r\n                        // Force navigation if it doesn't work\r\n                        setTimeout(() => {\r\n                            if (window.location.pathname.includes('/log/')) {\r\n                                console.log(\"Force redirecting to /log\");\r\n                                window.location.href = '/log';\r\n                            }\r\n                        }, 100);\r\n                    } catch (error) {\r\n                        console.error(\"Navigation error:\", error);\r\n                        window.location.href = '/log';\r\n                    }\r\n                }}\r\n            >\r\n                ← Back to Saved Logs\r\n            </button>\r\n\r\n            <div className=\"header-section\">\r\n                <input\r\n                    type=\"text\"\r\n                    value={log.tableName}\r\n                    onChange={handleRename}\r\n                    className=\"workout-title\"\r\n                    placeholder=\"Workout Name\"\r\n                />\r\n\r\n                <input\r\n                    type=\"date\"\r\n                    value={log.date}\r\n                    onChange={(e) => setLog(prevLog => ({ ...prevLog, date: e.target.value }))}\r\n                    className=\"date-input\"\r\n                />\r\n            </div>\r\n\r\n            <hr className=\"divider\" />\r\n\r\n            {log.rows.map((row, index) => (\r\n                <TrainingLogRow\r\n                    key={row.id}\r\n                    rowData={row}\r\n                    onUpdate={(updated) => updateRow(index, updated)}\r\n                    muscleGroupSuggestions={muscleGroupSuggestions}\r\n                    exerciseSuggestions={exerciseSuggestions}\r\n                    onMuscleGroupChange={handleMuscleGroupChange}\r\n                    currentLogId={log.id}\r\n                />\r\n            ))}\r\n\r\n            <div className=\"controls-section\">\r\n                <h3 className=\"controls-title\">Workout Controls</h3>\r\n                \r\n                <div className=\"button-grid\">\r\n                    <button className=\"action-button\" onClick={addRow}>\r\n                        ➕ Add Exercise\r\n                    </button>\r\n                    \r\n                    <button className=\"secondary-button\" onClick={() => setShowTemplates(true)}>\r\n                        📋 Use Template\r\n                    </button>\r\n                    \r\n                    <button className=\"secondary-button\" onClick={() => setShowSaveTemplate(true)}>\r\n                        💾 Save as Template\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"bottom-actions\">\r\n                    <button\r\n                        className=\"secondary-button danger-button\"\r\n                        onClick={deleteLastRow}\r\n                        disabled={log.rows.length <= 1}\r\n                    >\r\n                        🗑 Delete Last\r\n                    </button>\r\n                    \r\n                    <button\r\n                        className=\"action-button save-button\"\r\n                        onClick={() => {\r\n                            manualSave();\r\n                            setSaveStatus('Manually saved');\r\n                            setTimeout(() => setSaveStatus(''), 2000);\r\n                        }}\r\n                    >\r\n                        {saveStatus === 'Saving...' ? '⏳ Saving...' : \r\n                         saveStatus === 'Saved' ? '✅ Saved' : \r\n                         saveStatus === 'Save failed' ? '❌ Save Failed' : \r\n                         '💾 Save Workout (Ctrl+S)'}\r\n                    </button>\r\n                </div>\r\n                \r\n                {/* Save Status Indicator */}\r\n                {(saveStatus || lastSaveTime) && (\r\n                    <div className={`save-status ${saveStatus === 'Save failed' ? 'error' : saveStatus ? 'success' : ''}`}>\r\n                        {saveStatus || (lastSaveTime && `Last saved: ${lastSaveTime.toLocaleTimeString()}`)}\r\n                    </div>\r\n                )}\r\n            </div>\r\n            \r\n            {/* Workout Templates Modal */}\r\n            {showTemplates && (\r\n                <WorkoutTemplates\r\n                    currentLog={log}\r\n                    onApplyTemplate={handleApplyTemplate}\r\n                    onClose={() => setShowTemplates(false)}\r\n                />\r\n            )}\r\n\r\n            {/* Save as Template Modal */}\r\n            {showSaveTemplate && (\r\n                <div className=\"modal-overlay\" onClick={() => setShowSaveTemplate(false)}>\r\n                    <div className=\"modal\" onClick={(e) => e.stopPropagation()}>\r\n                        <h3 className=\"modal-title\">Save as Template</h3>\r\n                        \r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Template name\"\r\n                            value={templateName}\r\n                            onChange={(e) => setTemplateName(e.target.value)}\r\n                            className=\"modal-input\"\r\n                            autoFocus\r\n                        />\r\n                        \r\n                        <textarea\r\n                            placeholder=\"Description (optional)\"\r\n                            value={templateDescription}\r\n                            onChange={(e) => setTemplateDescription(e.target.value)}\r\n                            className=\"modal-textarea\"\r\n                        />\r\n                        \r\n                        <div className=\"modal-actions\">\r\n                            <button\r\n                                className=\"modal-button modal-button-cancel\"\r\n                                onClick={() => {\r\n                                    setShowSaveTemplate(false);\r\n                                    setTemplateName('');\r\n                                    setTemplateDescription('');\r\n                                }}\r\n                            >\r\n                                Cancel\r\n                            </button>\r\n                            <button\r\n                                className=\"modal-button modal-button-save\"\r\n                                onClick={handleSaveAsTemplate}\r\n                            >\r\n                                Save Template\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}"],"mappings":"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,qBAAqB;UAC/BC,UAAU,EAAE;QAChB,CAAE;QAAAH,QAAA,EAAC;MAEH;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAEd;EAEA,oBACI3H,OAAA;IAAK4H,SAAS,EAAC,wBAAwB;IAAAR,QAAA,gBACnCpH,OAAA;MAAO6H,GAAG;MAAAT,QAAA,EAAE;AACxB;AACA,+BAA+BjF,QAAQ,GAAG,gBAAgB,GAAG,gBAAgB;AAC7E,mCAAmCA,QAAQ,GAAG,iBAAiB,GAAG,iBAAiB;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+BpB,cAAc,GAAG,CAAC,GAAG,CAAC;AACrD,iCAAiCA,cAAc,GAAG,eAAe,GAAG,mBAAmB;AACvF,sCAAsCA,cAAc,GAAG,MAAM,GAAG,MAAM;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiCoB,QAAQ,GAAG,sBAAsB,GAAG,sBAAsB;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6CA,QAAQ,GAAG,KAAK,GAAG,sCAAsC;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAa;MAAAqF,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAEV3H,OAAA;MACI4H,SAAS,EAAC,aAAa;MACvBE,OAAO,EAAEA,CAAA,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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}