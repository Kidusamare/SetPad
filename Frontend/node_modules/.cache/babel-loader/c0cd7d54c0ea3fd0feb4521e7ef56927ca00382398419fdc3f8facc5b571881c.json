{"ast":null,"code":"import _objectSpread from\"C:/Users/kidus/OneDrive/Documentos/Summer2025/fitness-tracker-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from\"react\";import{useTheme}from\"../context/ThemeContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AutoComplete(_ref){let{value,onChange,placeholder,suggestions,onFocus,onBlur,style={}}=_ref;const{theme}=useTheme();const[isOpen,setIsOpen]=useState(false);const[filteredSuggestions,setFilteredSuggestions]=useState([]);const[highlightedIndex,setHighlightedIndex]=useState(-1);const[inputValue,setInputValue]=useState(value);const wrapperRef=useRef(null);// Filter suggestions based on input\nuseEffect(()=>{if(inputValue.trim()===''){setFilteredSuggestions(suggestions);}else{const filtered=suggestions.filter(suggestion=>suggestion.toLowerCase().includes(inputValue.toLowerCase()));setFilteredSuggestions(filtered);}setHighlightedIndex(-1);},[inputValue,suggestions]);// Update input value when prop changes\nuseEffect(()=>{setInputValue(value);},[value]);// Handle click outside to close dropdown\nuseEffect(()=>{const handleClickOutside=event=>{if(wrapperRef.current&&!wrapperRef.current.contains(event.target)){setIsOpen(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[]);const handleInputChange=e=>{const newValue=e.target.value;setInputValue(newValue);onChange(newValue);setIsOpen(true);};const handleInputFocus=()=>{setIsOpen(true);if(onFocus)onFocus();};const handleInputBlur=()=>{// Delay closing to allow for clicks on suggestions\nsetTimeout(()=>setIsOpen(false),150);if(onBlur)onBlur();};const handleSuggestionMouseDown=(e,suggestion)=>{e.preventDefault();// Prevent input blur\nsetInputValue(suggestion);onChange(suggestion);setIsOpen(false);};const handleKeyDown=e=>{if(!isOpen)return;switch(e.key){case'ArrowDown':e.preventDefault();setHighlightedIndex(prev=>prev<filteredSuggestions.length-1?prev+1:prev);break;case'ArrowUp':e.preventDefault();setHighlightedIndex(prev=>prev>0?prev-1:-1);break;case'Enter':e.preventDefault();if(highlightedIndex>=0&&filteredSuggestions[highlightedIndex]){const suggestion=filteredSuggestions[highlightedIndex];setInputValue(suggestion);onChange(suggestion);setIsOpen(false);}break;case'Escape':setIsOpen(false);break;}};return/*#__PURE__*/_jsxs(\"div\",{ref:wrapperRef,style:{position:'relative',width:'100%'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inputValue,onChange:handleInputChange,onFocus:handleInputFocus,onBlur:handleInputBlur,onKeyDown:handleKeyDown,placeholder:placeholder,style:_objectSpread({padding:\"0.8rem\",width:\"100%\",borderRadius:\"8px\",border:\"1px solid \".concat(theme.inputBorder),background:theme.inputBackground,color:theme.text,fontSize:\"1rem\",boxSizing:\"border-box\",transition:\"background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease\"},style)}),isOpen&&filteredSuggestions.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'100%',left:0,right:0,background:theme.cardBackground,border:\"1px solid \".concat(theme.cardBorder),borderRadius:'8px',boxShadow:theme.shadow,zIndex:1000,maxHeight:'200px',overflowY:'auto',marginTop:'4px'},children:filteredSuggestions.map((suggestion,index)=>/*#__PURE__*/_jsx(\"div\",{onMouseDown:e=>handleSuggestionMouseDown(e,suggestion),style:{padding:'0.8rem',cursor:'pointer',color:theme.text,background:index===highlightedIndex?theme.surfaceSecondary:'transparent',borderBottom:index<filteredSuggestions.length-1?\"1px solid \".concat(theme.borderLight):'none',transition:'background-color 0.2s ease',fontSize:'0.9rem'},onMouseEnter:()=>setHighlightedIndex(index),children:suggestion},suggestion))})]});}","map":{"version":3,"names":["React","useState","useEffect","useRef","useTheme","jsx","_jsx","jsxs","_jsxs","AutoComplete","_ref","value","onChange","placeholder","suggestions","onFocus","onBlur","style","theme","isOpen","setIsOpen","filteredSuggestions","setFilteredSuggestions","highlightedIndex","setHighlightedIndex","inputValue","setInputValue","wrapperRef","trim","filtered","filter","suggestion","toLowerCase","includes","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleInputChange","e","newValue","handleInputFocus","handleInputBlur","setTimeout","handleSuggestionMouseDown","preventDefault","handleKeyDown","key","prev","length","ref","position","width","children","type","onKeyDown","_objectSpread","padding","borderRadius","border","concat","inputBorder","background","inputBackground","color","text","fontSize","boxSizing","transition","top","left","right","cardBackground","cardBorder","boxShadow","shadow","zIndex","maxHeight","overflowY","marginTop","map","index","onMouseDown","cursor","surfaceSecondary","borderBottom","borderLight","onMouseEnter"],"sources":["C:/Users/kidus/OneDrive/Documentos/Summer2025/fitness-tracker-frontend/src/components/AutoComplete.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useTheme } from \"../context/ThemeContext\";\r\n\r\nexport default function AutoComplete({ \r\n  value, \r\n  onChange, \r\n  placeholder, \r\n  suggestions, \r\n  onFocus,\r\n  onBlur,\r\n  style = {}\r\n}) {\r\n  const { theme } = useTheme();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [filteredSuggestions, setFilteredSuggestions] = useState([]);\r\n  const [highlightedIndex, setHighlightedIndex] = useState(-1);\r\n  const [inputValue, setInputValue] = useState(value);\r\n  const wrapperRef = useRef(null);\r\n\r\n  // Filter suggestions based on input\r\n  useEffect(() => {\r\n    if (inputValue.trim() === '') {\r\n      setFilteredSuggestions(suggestions);\r\n    } else {\r\n      const filtered = suggestions.filter(suggestion =>\r\n        suggestion.toLowerCase().includes(inputValue.toLowerCase())\r\n      );\r\n      setFilteredSuggestions(filtered);\r\n    }\r\n    setHighlightedIndex(-1);\r\n  }, [inputValue, suggestions]);\r\n\r\n  // Update input value when prop changes\r\n  useEffect(() => {\r\n    setInputValue(value);\r\n  }, [value]);\r\n\r\n  // Handle click outside to close dropdown\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (wrapperRef.current && !wrapperRef.current.contains(event.target)) {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, []);\r\n\r\n  const handleInputChange = (e) => {\r\n    const newValue = e.target.value;\r\n    setInputValue(newValue);\r\n    onChange(newValue);\r\n    setIsOpen(true);\r\n  };\r\n\r\n  const handleInputFocus = () => {\r\n    setIsOpen(true);\r\n    if (onFocus) onFocus();\r\n  };\r\n\r\n  const handleInputBlur = () => {\r\n    // Delay closing to allow for clicks on suggestions\r\n    setTimeout(() => setIsOpen(false), 150);\r\n    if (onBlur) onBlur();\r\n  };\r\n\r\n  const handleSuggestionMouseDown = (e, suggestion) => {\r\n    e.preventDefault(); // Prevent input blur\r\n    setInputValue(suggestion);\r\n    onChange(suggestion);\r\n    setIsOpen(false);\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (!isOpen) return;\r\n\r\n    switch (e.key) {\r\n      case 'ArrowDown':\r\n        e.preventDefault();\r\n        setHighlightedIndex(prev => \r\n          prev < filteredSuggestions.length - 1 ? prev + 1 : prev\r\n        );\r\n        break;\r\n      case 'ArrowUp':\r\n        e.preventDefault();\r\n        setHighlightedIndex(prev => prev > 0 ? prev - 1 : -1);\r\n        break;\r\n      case 'Enter':\r\n        e.preventDefault();\r\n        if (highlightedIndex >= 0 && filteredSuggestions[highlightedIndex]) {\r\n          const suggestion = filteredSuggestions[highlightedIndex];\r\n          setInputValue(suggestion);\r\n          onChange(suggestion);\r\n          setIsOpen(false);\r\n        }\r\n        break;\r\n      case 'Escape':\r\n        setIsOpen(false);\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div ref={wrapperRef} style={{ position: 'relative', width: '100%' }}>\r\n      <input\r\n        type=\"text\"\r\n        value={inputValue}\r\n        onChange={handleInputChange}\r\n        onFocus={handleInputFocus}\r\n        onBlur={handleInputBlur}\r\n        onKeyDown={handleKeyDown}\r\n        placeholder={placeholder}\r\n        style={{\r\n          padding: \"0.8rem\",\r\n          width: \"100%\",\r\n          borderRadius: \"8px\",\r\n          border: `1px solid ${theme.inputBorder}`,\r\n          background: theme.inputBackground,\r\n          color: theme.text,\r\n          fontSize: \"1rem\",\r\n          boxSizing: \"border-box\",\r\n          transition: \"background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease\",\r\n          ...style\r\n        }}\r\n      />\r\n      \r\n      {isOpen && filteredSuggestions.length > 0 && (\r\n        <div style={{\r\n          position: 'absolute',\r\n          top: '100%',\r\n          left: 0,\r\n          right: 0,\r\n          background: theme.cardBackground,\r\n          border: `1px solid ${theme.cardBorder}`,\r\n          borderRadius: '8px',\r\n          boxShadow: theme.shadow,\r\n          zIndex: 1000,\r\n          maxHeight: '200px',\r\n          overflowY: 'auto',\r\n          marginTop: '4px'\r\n        }}>\r\n          {filteredSuggestions.map((suggestion, index) => (\r\n            <div\r\n              key={suggestion}\r\n              onMouseDown={(e) => handleSuggestionMouseDown(e, suggestion)}\r\n              style={{\r\n                padding: '0.8rem',\r\n                cursor: 'pointer',\r\n                color: theme.text,\r\n                background: index === highlightedIndex ? theme.surfaceSecondary : 'transparent',\r\n                borderBottom: index < filteredSuggestions.length - 1 ? `1px solid ${theme.borderLight}` : 'none',\r\n                transition: 'background-color 0.2s ease',\r\n                fontSize: '0.9rem'\r\n              }}\r\n              onMouseEnter={() => setHighlightedIndex(index)}\r\n            >\r\n              {suggestion}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n} "],"mappings":"2JAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,OAASC,QAAQ,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnD,cAAe,SAAS,CAAAC,YAAYA,CAAAC,IAAA,CAQjC,IARkC,CACnCC,KAAK,CACLC,QAAQ,CACRC,WAAW,CACXC,WAAW,CACXC,OAAO,CACPC,MAAM,CACNC,KAAK,CAAG,CAAC,CACX,CAAC,CAAAP,IAAA,CACC,KAAM,CAAEQ,KAAM,CAAC,CAAGd,QAAQ,CAAC,CAAC,CAC5B,KAAM,CAACe,MAAM,CAAEC,SAAS,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAC3C,KAAM,CAACoB,mBAAmB,CAAEC,sBAAsB,CAAC,CAAGrB,QAAQ,CAAC,EAAE,CAAC,CAClE,KAAM,CAACsB,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGvB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAC5D,KAAM,CAACwB,UAAU,CAAEC,aAAa,CAAC,CAAGzB,QAAQ,CAACU,KAAK,CAAC,CACnD,KAAM,CAAAgB,UAAU,CAAGxB,MAAM,CAAC,IAAI,CAAC,CAE/B;AACAD,SAAS,CAAC,IAAM,CACd,GAAIuB,UAAU,CAACG,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CAC5BN,sBAAsB,CAACR,WAAW,CAAC,CACrC,CAAC,IAAM,CACL,KAAM,CAAAe,QAAQ,CAAGf,WAAW,CAACgB,MAAM,CAACC,UAAU,EAC5CA,UAAU,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACR,UAAU,CAACO,WAAW,CAAC,CAAC,CAC5D,CAAC,CACDV,sBAAsB,CAACO,QAAQ,CAAC,CAClC,CACAL,mBAAmB,CAAC,CAAC,CAAC,CAAC,CACzB,CAAC,CAAE,CAACC,UAAU,CAAEX,WAAW,CAAC,CAAC,CAE7B;AACAZ,SAAS,CAAC,IAAM,CACdwB,aAAa,CAACf,KAAK,CAAC,CACtB,CAAC,CAAE,CAACA,KAAK,CAAC,CAAC,CAEX;AACAT,SAAS,CAAC,IAAM,CACd,KAAM,CAAAgC,kBAAkB,CAAIC,KAAK,EAAK,CACpC,GAAIR,UAAU,CAACS,OAAO,EAAI,CAACT,UAAU,CAACS,OAAO,CAACC,QAAQ,CAACF,KAAK,CAACG,MAAM,CAAC,CAAE,CACpElB,SAAS,CAAC,KAAK,CAAC,CAClB,CACF,CAAC,CAEDmB,QAAQ,CAACC,gBAAgB,CAAC,WAAW,CAAEN,kBAAkB,CAAC,CAC1D,MAAO,IAAM,CACXK,QAAQ,CAACE,mBAAmB,CAAC,WAAW,CAAEP,kBAAkB,CAAC,CAC/D,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAQ,iBAAiB,CAAIC,CAAC,EAAK,CAC/B,KAAM,CAAAC,QAAQ,CAAGD,CAAC,CAACL,MAAM,CAAC3B,KAAK,CAC/Be,aAAa,CAACkB,QAAQ,CAAC,CACvBhC,QAAQ,CAACgC,QAAQ,CAAC,CAClBxB,SAAS,CAAC,IAAI,CAAC,CACjB,CAAC,CAED,KAAM,CAAAyB,gBAAgB,CAAGA,CAAA,GAAM,CAC7BzB,SAAS,CAAC,IAAI,CAAC,CACf,GAAIL,OAAO,CAAEA,OAAO,CAAC,CAAC,CACxB,CAAC,CAED,KAAM,CAAA+B,eAAe,CAAGA,CAAA,GAAM,CAC5B;AACAC,UAAU,CAAC,IAAM3B,SAAS,CAAC,KAAK,CAAC,CAAE,GAAG,CAAC,CACvC,GAAIJ,MAAM,CAAEA,MAAM,CAAC,CAAC,CACtB,CAAC,CAED,KAAM,CAAAgC,yBAAyB,CAAGA,CAACL,CAAC,CAAEZ,UAAU,GAAK,CACnDY,CAAC,CAACM,cAAc,CAAC,CAAC,CAAE;AACpBvB,aAAa,CAACK,UAAU,CAAC,CACzBnB,QAAQ,CAACmB,UAAU,CAAC,CACpBX,SAAS,CAAC,KAAK,CAAC,CAClB,CAAC,CAED,KAAM,CAAA8B,aAAa,CAAIP,CAAC,EAAK,CAC3B,GAAI,CAACxB,MAAM,CAAE,OAEb,OAAQwB,CAAC,CAACQ,GAAG,EACX,IAAK,WAAW,CACdR,CAAC,CAACM,cAAc,CAAC,CAAC,CAClBzB,mBAAmB,CAAC4B,IAAI,EACtBA,IAAI,CAAG/B,mBAAmB,CAACgC,MAAM,CAAG,CAAC,CAAGD,IAAI,CAAG,CAAC,CAAGA,IACrD,CAAC,CACD,MACF,IAAK,SAAS,CACZT,CAAC,CAACM,cAAc,CAAC,CAAC,CAClBzB,mBAAmB,CAAC4B,IAAI,EAAIA,IAAI,CAAG,CAAC,CAAGA,IAAI,CAAG,CAAC,CAAG,CAAC,CAAC,CAAC,CACrD,MACF,IAAK,OAAO,CACVT,CAAC,CAACM,cAAc,CAAC,CAAC,CAClB,GAAI1B,gBAAgB,EAAI,CAAC,EAAIF,mBAAmB,CAACE,gBAAgB,CAAC,CAAE,CAClE,KAAM,CAAAQ,UAAU,CAAGV,mBAAmB,CAACE,gBAAgB,CAAC,CACxDG,aAAa,CAACK,UAAU,CAAC,CACzBnB,QAAQ,CAACmB,UAAU,CAAC,CACpBX,SAAS,CAAC,KAAK,CAAC,CAClB,CACA,MACF,IAAK,QAAQ,CACXA,SAAS,CAAC,KAAK,CAAC,CAChB,MACJ,CACF,CAAC,CAED,mBACEZ,KAAA,QAAK8C,GAAG,CAAE3B,UAAW,CAACV,KAAK,CAAE,CAAEsC,QAAQ,CAAE,UAAU,CAAEC,KAAK,CAAE,MAAO,CAAE,CAAAC,QAAA,eACnEnD,IAAA,UACEoD,IAAI,CAAC,MAAM,CACX/C,KAAK,CAAEc,UAAW,CAClBb,QAAQ,CAAE8B,iBAAkB,CAC5B3B,OAAO,CAAE8B,gBAAiB,CAC1B7B,MAAM,CAAE8B,eAAgB,CACxBa,SAAS,CAAET,aAAc,CACzBrC,WAAW,CAAEA,WAAY,CACzBI,KAAK,CAAA2C,aAAA,EACHC,OAAO,CAAE,QAAQ,CACjBL,KAAK,CAAE,MAAM,CACbM,YAAY,CAAE,KAAK,CACnBC,MAAM,cAAAC,MAAA,CAAe9C,KAAK,CAAC+C,WAAW,CAAE,CACxCC,UAAU,CAAEhD,KAAK,CAACiD,eAAe,CACjCC,KAAK,CAAElD,KAAK,CAACmD,IAAI,CACjBC,QAAQ,CAAE,MAAM,CAChBC,SAAS,CAAE,YAAY,CACvBC,UAAU,CAAE,qEAAqE,EAC9EvD,KAAK,CACR,CACH,CAAC,CAEDE,MAAM,EAAIE,mBAAmB,CAACgC,MAAM,CAAG,CAAC,eACvC/C,IAAA,QAAKW,KAAK,CAAE,CACVsC,QAAQ,CAAE,UAAU,CACpBkB,GAAG,CAAE,MAAM,CACXC,IAAI,CAAE,CAAC,CACPC,KAAK,CAAE,CAAC,CACRT,UAAU,CAAEhD,KAAK,CAAC0D,cAAc,CAChCb,MAAM,cAAAC,MAAA,CAAe9C,KAAK,CAAC2D,UAAU,CAAE,CACvCf,YAAY,CAAE,KAAK,CACnBgB,SAAS,CAAE5D,KAAK,CAAC6D,MAAM,CACvBC,MAAM,CAAE,IAAI,CACZC,SAAS,CAAE,OAAO,CAClBC,SAAS,CAAE,MAAM,CACjBC,SAAS,CAAE,KACb,CAAE,CAAA1B,QAAA,CACCpC,mBAAmB,CAAC+D,GAAG,CAAC,CAACrD,UAAU,CAAEsD,KAAK,gBACzC/E,IAAA,QAEEgF,WAAW,CAAG3C,CAAC,EAAKK,yBAAyB,CAACL,CAAC,CAAEZ,UAAU,CAAE,CAC7Dd,KAAK,CAAE,CACL4C,OAAO,CAAE,QAAQ,CACjB0B,MAAM,CAAE,SAAS,CACjBnB,KAAK,CAAElD,KAAK,CAACmD,IAAI,CACjBH,UAAU,CAAEmB,KAAK,GAAK9D,gBAAgB,CAAGL,KAAK,CAACsE,gBAAgB,CAAG,aAAa,CAC/EC,YAAY,CAAEJ,KAAK,CAAGhE,mBAAmB,CAACgC,MAAM,CAAG,CAAC,cAAAW,MAAA,CAAgB9C,KAAK,CAACwE,WAAW,EAAK,MAAM,CAChGlB,UAAU,CAAE,4BAA4B,CACxCF,QAAQ,CAAE,QACZ,CAAE,CACFqB,YAAY,CAAEA,CAAA,GAAMnE,mBAAmB,CAAC6D,KAAK,CAAE,CAAA5B,QAAA,CAE9C1B,UAAU,EAbNA,UAcF,CACN,CAAC,CACC,CACN,EACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}