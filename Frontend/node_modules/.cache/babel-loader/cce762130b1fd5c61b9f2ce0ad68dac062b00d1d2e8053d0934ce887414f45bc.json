{"ast":null,"code":"import _objectSpread from\"C:/Users/kidus/OneDrive/Documentos/Summer2025/fitness-tracker-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import{useTheme}from\"../context/ThemeContext\";import{InlineSpinner}from\"./LoadingSpinner\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const SmartSuggestions=_ref=>{let{muscleGroup,currentExercise,onSuggestionSelect}=_ref;const{theme}=useTheme();const[suggestions,setSuggestions]=useState([]);const[isLoading,setIsLoading]=useState(false);const[showSuggestions,setShowSuggestions]=useState(false);// Exercise database by muscle group\nconst exerciseDatabase={\"Chest\":[\"Bench Press\",\"Incline Bench Press\",\"Decline Bench Press\",\"Dumbbell Press\",\"Incline Dumbbell Press\",\"Dumbbell Flyes\",\"Incline Flyes\",\"Cable Flyes\",\"Push-ups\",\"Dips\",\"Chest Press Machine\",\"Pec Deck\",\"Cable Crossover\"],\"Back\":[\"Deadlift\",\"Pull-ups\",\"Chin-ups\",\"Barbell Rows\",\"Dumbbell Rows\",\"T-Bar Rows\",\"Cable Rows\",\"Lat Pulldowns\",\"Face Pulls\",\"Reverse Flyes\",\"Hyperextensions\",\"Good Mornings\",\"Shrugs\"],\"Shoulders\":[\"Overhead Press\",\"Military Press\",\"Dumbbell Press\",\"Arnold Press\",\"Lateral Raises\",\"Front Raises\",\"Rear Delt Flyes\",\"Upright Rows\",\"Pike Push-ups\",\"Handstand Push-ups\",\"Cable Lateral Raises\"],\"Legs\":[\"Squat\",\"Front Squat\",\"Leg Press\",\"Lunges\",\"Bulgarian Split Squats\",\"Romanian Deadlift\",\"Leg Curls\",\"Leg Extensions\",\"Calf Raises\",\"Walking Lunges\",\"Step-ups\",\"Wall Sits\",\"Single Leg Deadlifts\"],\"Biceps\":[\"Barbell Curls\",\"Dumbbell Curls\",\"Hammer Curls\",\"Cable Curls\",\"Preacher Curls\",\"Concentration Curls\",\"21s\",\"Chin-ups\"],\"Triceps\":[\"Close-Grip Bench Press\",\"Tricep Dips\",\"Overhead Tricep Extension\",\"Tricep Pushdowns\",\"Diamond Push-ups\",\"Skull Crushers\",\"French Press\"],\"Abs\":[\"Plank\",\"Crunches\",\"Bicycle Crunches\",\"Russian Twists\",\"Mountain Climbers\",\"Hanging Leg Raises\",\"Ab Wheel\",\"Dead Bug\",\"Hollow Body Hold\"],\"Glutes\":[\"Hip Thrusts\",\"Glute Bridges\",\"Romanian Deadlift\",\"Bulgarian Split Squats\",\"Clamshells\",\"Monster Walks\",\"Fire Hydrants\",\"Glute Ham Raise\"],\"Calves\":[\"Calf Raises\",\"Seated Calf Raises\",\"Donkey Calf Raises\",\"Jump Rope\",\"Box Jumps\",\"Single Leg Calf Raises\"]};// AI-powered suggestions based on workout context\nconst getAISuggestions=async(muscleGroup,currentExercise)=>{setIsLoading(true);try{// Simulate AI API call for smart suggestions\nconst response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:8000',\"/ai-coaching/exercise-suggestions\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({muscle_group:muscleGroup,current_exercise:currentExercise,context:\"progressive_overload\"})});if(response.ok){const data=await response.json();return data.suggestions||[];}}catch(error){console.error(\"AI suggestions error:\",error);}// Fallback to local database\nreturn getLocalSuggestions(muscleGroup,currentExercise);};const getLocalSuggestions=(muscleGroup,currentExercise)=>{const exercises=exerciseDatabase[muscleGroup]||[];return exercises.filter(exercise=>exercise.toLowerCase()!==currentExercise.toLowerCase()&&exercise.toLowerCase().includes(currentExercise.toLowerCase().split(' ')[0])).slice(0,5);};const fetchSuggestions=async()=>{if(!muscleGroup||muscleGroup.length<2){setSuggestions([]);return;}const aiSuggestions=await getAISuggestions(muscleGroup,currentExercise);const localSuggestions=getLocalSuggestions(muscleGroup,currentExercise);// Combine and deduplicate suggestions\nconst combinedSuggestions=[...new Set([...aiSuggestions,...localSuggestions])];setSuggestions(combinedSuggestions.slice(0,6));setIsLoading(false);};useEffect(()=>{const timeoutId=setTimeout(()=>{fetchSuggestions();},300);// Debounce suggestions\nreturn()=>clearTimeout(timeoutId);},[muscleGroup,currentExercise]);const handleSuggestionClick=suggestion=>{onSuggestionSelect(suggestion);setShowSuggestions(false);};const toggleSuggestions=()=>{setShowSuggestions(!showSuggestions);};if(!muscleGroup||!isLoading&&suggestions.length===0){return null;}return/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"0.5rem\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleSuggestions,style:{background:\"none\",border:\"none\",color:theme.accent,fontSize:\"0.8rem\",cursor:\"pointer\",padding:\"0.2rem 0\",display:\"flex\",alignItems:\"center\",gap:\"0.3rem\",transition:\"color 0.2s ease\"},onMouseOver:e=>e.currentTarget.style.color=theme.accentHover,onMouseOut:e=>e.currentTarget.style.color=theme.accent,children:isLoading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(InlineSpinner,{size:\"small\"}),\"Getting suggestions...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[\"\\uD83D\\uDCA1 Smart Suggestions (\",suggestions.length,\")\",/*#__PURE__*/_jsx(\"span\",{style:{transform:showSuggestions?\"rotate(180deg)\":\"rotate(0deg)\",transition:\"transform 0.2s ease\"},children:\"\\u25BC\"})]})}),showSuggestions&&suggestions.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"0.5rem\",background:theme.surfaceSecondary,border:\"1px solid \".concat(theme.border),borderRadius:\"8px\",padding:\"0.5rem\",maxHeight:\"150px\",overflowY:\"auto\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:\"0.7rem\",color:theme.textMuted,marginBottom:\"0.5rem\",fontStyle:\"italic\"},children:[\"AI-powered exercise suggestions for \",muscleGroup,\":\"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flexDirection:\"column\",gap:\"0.2rem\"},children:suggestions.map((suggestion,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSuggestionClick(suggestion),style:{background:\"none\",border:\"none\",color:theme.text,fontSize:\"0.8rem\",padding:\"0.3rem 0.5rem\",textAlign:\"left\",cursor:\"pointer\",borderRadius:\"4px\",transition:\"background 0.2s ease\"},onMouseOver:e=>e.currentTarget.style.background=theme.surfaceTertiary,onMouseOut:e=>e.currentTarget.style.background=\"none\",children:suggestion},index))})]})]});};// Weight and Rep Suggestions Component\nexport const ProgressionSuggestions=_ref2=>{let{currentSets,exercise,onSuggestionApply}=_ref2;const{theme}=useTheme();const[suggestions,setSuggestions]=useState([]);const[showSuggestions,setShowSuggestions]=useState(false);useEffect(()=>{if(currentSets&&currentSets.length>0){generateProgressionSuggestions();}},[currentSets,exercise]);const generateProgressionSuggestions=()=>{const suggestions=[];if(currentSets.length>0){const lastSet=currentSets[currentSets.length-1];const weight=parseFloat(lastSet.weight)||0;const reps=parseInt(lastSet.reps)||0;if(weight>0&&reps>0){// Progressive overload suggestions\nsuggestions.push({type:\"Weight Increase\",description:\"Add 5 lbs: \".concat(weight+5,\" lbs x \").concat(reps,\" reps\"),sets:currentSets.map(set=>_objectSpread(_objectSpread({},set),{},{weight:(parseFloat(set.weight)+5).toString()}))});suggestions.push({type:\"Rep Increase\",description:\"Add 2 reps: \".concat(weight,\" lbs x \").concat(reps+2,\" reps\"),sets:currentSets.map(set=>_objectSpread(_objectSpread({},set),{},{reps:(parseInt(set.reps)+2).toString()}))});if(reps>=12){suggestions.push({type:\"Weight + Rep Adjustment\",description:\"\".concat(weight+10,\" lbs x \").concat(Math.max(6,reps-3),\" reps\"),sets:currentSets.map(set=>_objectSpread(_objectSpread({},set),{},{weight:(parseFloat(set.weight)+10).toString(),reps:Math.max(6,parseInt(set.reps)-3).toString()}))});}}}setSuggestions(suggestions);};const applySuggestion=suggestion=>{onSuggestionApply(suggestion.sets);setShowSuggestions(false);};if(suggestions.length===0)return null;return/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"0.5rem\"},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowSuggestions(!showSuggestions),style:{background:\"none\",border:\"none\",color:theme.accent,fontSize:\"0.8rem\",cursor:\"pointer\",padding:\"0.2rem 0\",display:\"flex\",alignItems:\"center\",gap:\"0.3rem\"},children:[\"\\uD83D\\uDCC8 Progressive Overload Suggestions\",/*#__PURE__*/_jsx(\"span\",{style:{transform:showSuggestions?\"rotate(180deg)\":\"rotate(0deg)\",transition:\"transform 0.2s ease\"},children:\"\\u25BC\"})]}),showSuggestions&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"0.5rem\",background:theme.surfaceSecondary,border:\"1px solid \".concat(theme.border),borderRadius:\"8px\",padding:\"0.8rem\"},children:suggestions.map((suggestion,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:index<suggestions.length-1?\"0.8rem\":0},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:\"600\",color:theme.text,fontSize:\"0.8rem\",marginBottom:\"0.2rem\"},children:suggestion.type}),/*#__PURE__*/_jsx(\"div\",{style:{color:theme.textSecondary,fontSize:\"0.7rem\",marginBottom:\"0.5rem\"},children:suggestion.description}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>applySuggestion(suggestion),style:{background:theme.accent,color:theme.background,border:\"none\",borderRadius:\"4px\",padding:\"0.3rem 0.8rem\",fontSize:\"0.7rem\",fontWeight:\"600\",cursor:\"pointer\",transition:\"background 0.2s ease\"},onMouseOver:e=>e.currentTarget.style.background=theme.accentHover,onMouseOut:e=>e.currentTarget.style.background=theme.accent,children:\"Apply\"})]},index))})]});};export default SmartSuggestions;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}