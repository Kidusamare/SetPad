{"ast":null,"code":"import{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import TrainingLogManager from\"./TrainingLogManager\";import{getFirebaseUserAndToken}from\"../utils/auth\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SavedTablesPage(_ref){let{previewMode=false}=_ref;const navigate=useNavigate();const[tables,setTables]=useState([]);const[manager,setManager]=useState(null);useEffect(()=>{async function setup(){const session=await getFirebaseUserAndToken();if(!session)return;const managerInstance=new TrainingLogManager(session.token);setManager(managerInstance);const data=await managerInstance.listTables();setTables(data);}setup();},[]);const handleNewTable=async()=>{const today=new Date().toISOString().split(\"T\")[0];const newId=\"\".concat(Date.now());const newTable={id:newId,tableName:\"New Table - \".concat(today),date:today,rows:[]};await manager.saveTable(newTable);navigate(\"/log/\".concat(newId));};const handleOpenTable=id=>navigate(\"/log/\".concat(id));const handleDeleteTable=async id=>{if(!window.confirm(\"Are you sure?\"))return;await manager.deleteTable(id);setTables(prev=>prev.filter(t=>t.id!==id));};if(!manager)return/*#__PURE__*/_jsx(\"div\",{style:{background:\"#000\",minHeight:\"100vh\"}});return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"2rem\",background:\"#000\",minHeight:\"100vh\",color:\"#f5f6fa\"},children:[!previewMode&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/\"),style:{position:\"absolute\",top:\"2rem\",left:\"2rem\",background:\"#31363f\",color:\"#ffd966\",padding:\"0.7rem 1.4rem\",border:\"none\",borderRadius:\"10px\",fontWeight:\"600\",fontSize:\"1rem\",cursor:\"pointer\",zIndex:10,transition:\"background 0.2s\"},onMouseOver:e=>e.currentTarget.style.background=\"#444950\",onMouseOut:e=>e.currentTarget.style.background=\"#31363f\",children:\"\\u2190 Back to Dashboard\"}),/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:\"2rem\",marginBottom:\"1.5rem\"},children:\"Saved Logs\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNewTable,style:{background:\"#31363f\",color:\"#ffd966\",padding:\"0.8rem 1.6rem\",border:\"none\",borderRadius:\"10px\",fontWeight:\"600\",fontSize:\"1rem\",cursor:\"pointer\",marginBottom:\"2rem\"},children:\"+ New Table\"})]}),tables.length===0?/*#__PURE__*/_jsx(\"p\",{style:{opacity:0.7},children:\"No saved tables yet.\"}):/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:\"none\",padding:0},children:tables.map(table=>/*#__PURE__*/_jsxs(\"li\",{style:{marginBottom:\"1rem\",padding:\"0.5rem 1rem\",background:\"#1e1e1e\",borderRadius:\"8px\",display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",cursor:\"pointer\"},onClick:()=>handleOpenTable(table.id),children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:table.tableName}),\" \\u2014 \",/*#__PURE__*/_jsx(\"em\",{children:table.date})]}),!previewMode&&/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleDeleteTable(table.id);},style:{background:\"#ff4d4f\",color:\"#fff\",border:\"none\",borderRadius:\"6px\",padding:\"0.4rem 0.8rem\",cursor:\"pointer\"},children:\"Delete\"})]},table.id))})]});}","map":{"version":3,"names":["useEffect","useState","useNavigate","TrainingLogManager","getFirebaseUserAndToken","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","SavedTablesPage","_ref","previewMode","navigate","tables","setTables","manager","setManager","setup","session","managerInstance","token","data","listTables","handleNewTable","today","Date","toISOString","split","newId","concat","now","newTable","id","tableName","date","rows","saveTable","handleOpenTable","handleDeleteTable","window","confirm","deleteTable","prev","filter","t","style","background","minHeight","padding","color","children","onClick","position","top","left","border","borderRadius","fontWeight","fontSize","cursor","zIndex","transition","onMouseOver","e","currentTarget","onMouseOut","marginBottom","length","opacity","listStyle","map","table","display","justifyContent","alignItems","stopPropagation"],"sources":["C:/Users/kidus/OneDrive/Documentos/Summer2025/fitness-tracker-frontend/src/components/SavedTablesPage.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport TrainingLogManager from \"./TrainingLogManager\";\r\nimport { getFirebaseUserAndToken } from \"../utils/auth\";\r\n\r\nexport default function SavedTablesPage({ previewMode = false }) {\r\n    const navigate = useNavigate();\r\n    const [tables, setTables] = useState([]);\r\n    const [manager, setManager] = useState(null);\r\n\r\n    useEffect(() => {\r\n        async function setup() {\r\n            const session = await getFirebaseUserAndToken();\r\n            if (!session) return;\r\n            const managerInstance = new TrainingLogManager(session.token);\r\n            setManager(managerInstance);\r\n            const data = await managerInstance.listTables();\r\n            setTables(data);\r\n        }\r\n        setup();\r\n    }, []);\r\n\r\n    const handleNewTable = async () => {\r\n        const today = new Date().toISOString().split(\"T\")[0];\r\n        const newId = `${Date.now()}`;\r\n        const newTable = {\r\n            id: newId,\r\n            tableName: `New Table - ${today}`,\r\n            date: today,\r\n            rows: []\r\n        };\r\n        await manager.saveTable(newTable);\r\n        navigate(`/log/${newId}`);\r\n    };\r\n\r\n    const handleOpenTable = (id) => navigate(`/log/${id}`);\r\n\r\n    const handleDeleteTable = async (id) => {\r\n        if (!window.confirm(\"Are you sure?\")) return;\r\n        await manager.deleteTable(id);\r\n        setTables((prev) => prev.filter((t) => t.id !== id));\r\n    };\r\n\r\n    if (!manager) return <div style={{ background: \"#000\", minHeight: \"100vh\" }}></div>;\r\n\r\n    return (\r\n        <div style={{ padding: \"2rem\", background: \"#000\", minHeight: \"100vh\", color: \"#f5f6fa\" }}>\r\n            {!previewMode && (\r\n                <>\r\n                    <button\r\n                        onClick={() => navigate(\"/\")}\r\n                        style={{\r\n                            position: \"absolute\",\r\n                            top: \"2rem\",\r\n                            left: \"2rem\",\r\n                            background: \"#31363f\",\r\n                            color: \"#ffd966\",\r\n                            padding: \"0.7rem 1.4rem\",\r\n                            border: \"none\",\r\n                            borderRadius: \"10px\",\r\n                            fontWeight: \"600\",\r\n                            fontSize: \"1rem\",\r\n                            cursor: \"pointer\",\r\n                            zIndex: 10,\r\n                            transition: \"background 0.2s\"\r\n                        }}\r\n                        onMouseOver={e => e.currentTarget.style.background = \"#444950\"}\r\n                        onMouseOut={e => e.currentTarget.style.background = \"#31363f\"}\r\n                    >\r\n                        ← Back to Dashboard\r\n                    </button>\r\n                    <h1 style={{ fontSize: \"2rem\", marginBottom: \"1.5rem\" }}>Saved Logs</h1>\r\n                    <button\r\n                        onClick={handleNewTable}\r\n                        style={{\r\n                            background: \"#31363f\",\r\n                            color: \"#ffd966\",\r\n                            padding: \"0.8rem 1.6rem\",\r\n                            border: \"none\",\r\n                            borderRadius: \"10px\",\r\n                            fontWeight: \"600\",\r\n                            fontSize: \"1rem\",\r\n                            cursor: \"pointer\",\r\n                            marginBottom: \"2rem\"\r\n                        }}\r\n                    >\r\n                        + New Table\r\n                    </button>\r\n                </>\r\n            )}\r\n            {tables.length === 0 ? (\r\n                <p style={{ opacity: 0.7 }}>No saved tables yet.</p>\r\n            ) : (\r\n                <ul style={{ listStyle: \"none\", padding: 0 }}>\r\n                    {tables.map((table) => (\r\n                        <li\r\n                            key={table.id}\r\n                            style={{\r\n                                marginBottom: \"1rem\",\r\n                                padding: \"0.5rem 1rem\",\r\n                                background: \"#1e1e1e\",\r\n                                borderRadius: \"8px\",\r\n                                display: \"flex\",\r\n                                justifyContent: \"space-between\",\r\n                                alignItems: \"center\",\r\n                                cursor: \"pointer\"\r\n                            }}\r\n                            onClick={() => handleOpenTable(table.id)}\r\n                        >\r\n                            <div>\r\n                                <strong>{table.tableName}</strong> — <em>{table.date}</em>\r\n                            </div>\r\n                            {!previewMode && (\r\n                                <button\r\n                                    onClick={e => {\r\n                                        e.stopPropagation();\r\n                                        handleDeleteTable(table.id);\r\n                                    }}\r\n                                    style={{\r\n                                        background: \"#ff4d4f\",\r\n                                        color: \"#fff\",\r\n                                        border: \"none\",\r\n                                        borderRadius: \"6px\",\r\n                                        padding: \"0.4rem 0.8rem\",\r\n                                        cursor: \"pointer\"\r\n                                    }}\r\n                                >\r\n                                    Delete\r\n                                </button>\r\n                            )}\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}